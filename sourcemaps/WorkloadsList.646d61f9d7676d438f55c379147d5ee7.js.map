{"version":3,"file":"js/WorkloadsList.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./src/Components/Common/Tables.js","webpack:///./src/Components/Loading/Loading.js","webpack:///./src/Components/ShieldSet.js","webpack:///./src/Components/WorkloadsListTable/WorkloadsListTable.js","webpack:///./src/Components/WorkloadsListTable/index.js","webpack:///./src/Components/WorkloadsList/index.js","webpack:///./src/Utilities/Workloads.js"],"sourcesContent":["import capitalize from 'lodash/capitalize';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { useEffect, useState } from 'react';\nimport { coerce, compare, valid } from 'semver';\nimport {\n  CLUSTER_FILTER_CATEGORIES,\n  FILTER_CATEGORIES,\n  RULE_CATEGORIES,\n} from '../../AppConstants';\nimport {\n  hasAnyValueGreaterThanZero,\n  remappingSeverity,\n} from '../../Utilities/Workloads';\n\nexport const passFilters = (rule, filters) =>\n  Object.entries(filters).every(([filterKey, filterValue]) => {\n    switch (filterKey) {\n      case 'text':\n        return rule.description\n          .toLowerCase()\n          .includes(filterValue.toLowerCase());\n      case FILTER_CATEGORIES.total_risk.urlParam:\n        return filterValue.includes(String(rule.total_risk));\n      case FILTER_CATEGORIES.category.urlParam:\n        return rule.tags.find((c) =>\n          filterValue.includes(String(RULE_CATEGORIES[c]))\n        );\n      case FILTER_CATEGORIES.impact.urlParam:\n        return filterValue.includes(String(rule.impact));\n      case FILTER_CATEGORIES.impacting.urlParam:\n        return filterValue.length > 0\n          ? filterValue.some((v) => {\n              if (v === 'true') {\n                return rule.impacted_clusters_count > 0;\n              }\n              if (v === 'false') {\n                return rule.impacted_clusters_count === 0;\n              }\n            })\n          : true;\n      case FILTER_CATEGORIES.likelihood.urlParam:\n        return filterValue.includes(String(rule.likelihood));\n      case FILTER_CATEGORIES.rule_status.urlParam:\n        return (\n          filterValue === 'all' ||\n          (filterValue === 'disabled' && rule.disabled) ||\n          (filterValue === 'enabled' && !rule.disabled)\n        );\n      case FILTER_CATEGORIES.res_risk.urlParam:\n        return filterValue.includes(String(rule.resolution_risk));\n      default:\n        return true;\n    }\n  });\n\nexport const passFiltersCluster = (cluster, filters) =>\n  Object.entries(filters).every(([filterKey, filterValue]) => {\n    switch (filterKey) {\n      case 'text':\n        return (cluster.cluster_name || cluster.cluster_id)\n          .toLowerCase()\n          .includes(filterValue.toLowerCase());\n      case CLUSTER_FILTER_CATEGORIES.hits.urlParam:\n        return (\n          // clusters with at least one rule hit\n          (filterValue.length === 0 && parseInt(cluster.total_hit_count) > 0) ||\n          // all clusters\n          filterValue.includes('all') ||\n          // clusters with at least one rule hit for any of the active risk filters\n          filterValue.some((v) => cluster.hits_by_total_risk[v] > 0)\n        );\n      case 'version':\n        return (\n          filterValue.length === 0 ||\n          filterValue.includes(toValidSemVer(cluster.cluster_version))\n        );\n      default:\n        return true;\n    }\n  });\n\nconst pruneFilters = (localFilters, filterCategories) => {\n  const prunedFilters = Object.entries(localFilters || {});\n  return prunedFilters.reduce((arr, it) => {\n    const [key, item] = it;\n    if (filterCategories[key]) {\n      const category = filterCategories[key];\n      const chips = Array.isArray(item)\n        ? item.map((value) => {\n            const selectedCategoryValue = category.values.find(\n              (values) => values.value === String(value)\n            );\n            return selectedCategoryValue\n              ? {\n                  name:\n                    selectedCategoryValue.text || selectedCategoryValue.label,\n                  value,\n                }\n              : { name: value, value };\n          })\n        : [\n            {\n              name: category.values.find(\n                (values) => values.value === String(item)\n              ).label,\n              value: item,\n            },\n          ];\n      return [\n        ...arr,\n        {\n          category: capitalize(category.title),\n          chips,\n          urlParam: category.urlParam,\n        },\n      ];\n    } else if (key === 'text') {\n      return [\n        ...arr,\n        ...(item.length > 0\n          ? [\n              {\n                category: 'Name',\n                chips: [{ name: item, value: item }],\n                urlParam: key,\n              },\n            ]\n          : []),\n      ];\n    } else if (key === 'version') {\n      return [\n        ...arr,\n        ...(item.length > 0\n          ? [\n              {\n                category: 'Version',\n                chips: item.map((it) => ({\n                  name: it,\n                  value: it,\n                })),\n                urlParam: key,\n              },\n            ]\n          : []),\n      ];\n    } else if (key === 'namespace_name') {\n      return [\n        ...arr,\n        ...(item.length > 0\n          ? [\n              {\n                category: 'Namespace name',\n                chips: [{ name: item, value: item }],\n                urlParam: key,\n              },\n            ]\n          : []),\n      ];\n    } else if (key === 'cluster_name') {\n      return [\n        ...arr,\n        ...(item.length > 0\n          ? [\n              {\n                category: 'Cluster name',\n                chips: [{ name: item, value: item }],\n                urlParam: key,\n              },\n            ]\n          : []),\n      ];\n    }\n  }, []);\n};\n\nexport const buildFilterChips = (filters, categories) => {\n  const localFilters = cloneDeep(filters);\n  delete localFilters.sortIndex;\n  delete localFilters.sortDirection;\n  delete localFilters.sort;\n  delete localFilters.offset;\n  delete localFilters.limit;\n  localFilters?.hits &&\n    localFilters.hits.length === 0 &&\n    delete localFilters.hits;\n  return pruneFilters(localFilters, categories);\n};\n\n// parses url params for use in table/filter chips\nexport const paramParser = (search) => {\n  const searchParams = new URLSearchParams(search);\n  return Array.from(searchParams).reduce(\n    (acc, [key, value]) => ({\n      ...acc,\n      [key]: [\n        'text',\n        'first',\n        'rule_status',\n        'sort',\n        'cluster_name',\n        'namespace_name',\n        'description',\n        'object_id',\n      ].includes(key)\n        ? value // just copy the full value\n        : value === 'true' || value === 'false'\n        ? JSON.parse(value) // parse boolean\n        : // parse array of values\n          value.split(','),\n    }),\n    {}\n  );\n};\n\nexport const translateSortParams = (value) => ({\n  name: value.substring(value.startsWith('-') ? 1 : 0),\n  direction: value.startsWith('-') ? 'desc' : 'asc',\n  description: value.substring(value.startsWith('-') ? 1 : 0),\n  object_id: value.substring(value.startsWith('-') ? 1 : 0),\n});\n\nexport const translateSortValue = (index, indexMapping, direction) => {\n  if (!['desc', 'asc'].includes(direction)) {\n    console.error('Invalid sort parameters (is not asc nor desc)');\n  }\n  return `${direction === 'asc' ? '' : '-'}${indexMapping[index]}`;\n};\n\n// TODO: remove since unused\nexport const debounce = (value, delay) => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [delay, value]);\n\n  return debouncedValue;\n};\n\nexport const updateSearchParams = (filters = {}, columnMapping) => {\n  const url = new URL(window.location.origin + window.location.pathname);\n  // separately check the sort param\n  url.searchParams.set(\n    'sort',\n    translateSortValue(filters.sortIndex, columnMapping, filters.sortDirection)\n  );\n  // check the rest of filters\n  Object.entries(filters).forEach(([key, value]) => {\n    return (\n      key !== 'sortIndex' &&\n      key !== 'sortDirection' &&\n      key !== 'sort' &&\n      value !== '' &&\n      !(Array.isArray(value) && value.length === 0) &&\n      url.searchParams.set(key, value)\n    );\n  });\n  window.history.replaceState(null, null, url.href);\n};\n\n// TODO: move to Utils.js\nexport const compareSemVer = (v1, v2, d) => d * compare(v1, v2);\nexport const toValidSemVer = (version) =>\n  coerce(version === undefined || !valid(coerce(version)) ? '0.0.0' : version)\n    .version;\n\nexport const removeFilterParam = (currentFilters, updateFilters, param) => {\n  const { [param]: omitted, ...newFilters } = { ...currentFilters, offset: 0 };\n  updateFilters({\n    ...newFilters,\n    ...(param === 'text'\n      ? { text: '' }\n      : param === 'hits'\n      ? { hits: [] }\n      : param === 'version'\n      ? { version: [] }\n      : param === 'object_id'\n      ? { object_id: '' }\n      : {}),\n  });\n};\n\nexport const addFilterParam = (currentFilters, updateFilters, param, values) =>\n  values.length > 0\n    ? updateFilters({\n        ...currentFilters,\n        offset: 0,\n        ...{ [param]: values },\n      })\n    : removeFilterParam(currentFilters, updateFilters, param);\n\nexport const passFilterWorkloads = (workloads, filters) => {\n  const generalSeverityRemapped = remappingSeverity(\n    workloads.metadata.hits_by_severity,\n    'general'\n  );\n  return Object.entries(filters).every(([filterKey, filterValue]) => {\n    switch (filterKey) {\n      case 'cluster_name':\n        return (workloads.cluster.display_name || workloads.cluster.uuid)\n          .toLowerCase()\n          .includes(filterValue.toLowerCase());\n      case 'namespace_name':\n        return (workloads.namespace.name || workloads.namespace.uuid)\n          .toLowerCase()\n          .includes(filterValue.toLowerCase());\n      case 'severity':\n        return (\n          filterValue.length === 0 ||\n          hasAnyValueGreaterThanZero(generalSeverityRemapped, filters.severity)\n        );\n      default:\n        return true;\n    }\n  });\n};\n","import React from 'react';\nimport { Card, CardBody } from '@patternfly/react-core';\nimport { List } from 'react-content-loader';\n\nconst Loading = () => (\n  <Card ouiaId=\"loading-skeleton\">\n    <CardBody>\n      <List />\n    </CardBody>\n  </Card>\n);\n\nexport default Loading;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SecurityIcon } from '@patternfly/react-icons';\nimport { Link } from 'react-router-dom';\nimport { Tooltip } from '@patternfly/react-core';\nimport { SEVERITY_OPTIONS, remappingSeverity } from '../Utilities/Workloads';\n\nconst ShieldSet = ({ hits_by_severity, basePath }) => {\n  const DISABLED_COLOR = 'var(--pf-global--disabled-color--200)';\n  const severitiesRemapped = remappingSeverity(hits_by_severity, 'label');\n  return (\n    <div className=\"shield-set\">\n      {SEVERITY_OPTIONS.map((severityOption, index) => (\n        <Tooltip\n          key={severityOption.value}\n          content={`${severityOption.label} severity`}\n        >\n          {severityOption.hasIcon &&\n            (severitiesRemapped[severityOption.value] === 0 ? (\n              <a className=\"disabled-shield nowrap\">\n                <SecurityIcon style={{ color: DISABLED_COLOR }} />\n                <span>0</span>\n              </a>\n            ) : (\n              <Link\n                key={severityOption.value}\n                to={`${basePath}?total_risk=${SEVERITY_OPTIONS[index].indexNumber}`}\n                className=\"nowrap\"\n              >\n                <SecurityIcon style={{ color: severityOption.iconColor }} />\n                <span>{severitiesRemapped[severityOption.value]}</span>\n              </Link>\n            ))}\n        </Tooltip>\n      ))}\n    </div>\n  );\n};\n\nShieldSet.propTypes = {\n  hits_by_severity: PropTypes.shape({\n    critical: PropTypes.number,\n    important: PropTypes.number,\n    moderate: PropTypes.number,\n    low: PropTypes.number,\n  }).isRequired,\n  linkTo: PropTypes.string,\n  basePath: PropTypes.string,\n};\n\nexport default ShieldSet;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport PrimaryToolbar from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport { TableVariant } from '@patternfly/react-table';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n} from '@patternfly/react-table/deprecated';\nimport { PaginationVariant } from '@patternfly/react-core/dist/js/components/Pagination/Pagination';\nimport {\n  WORKLOADS_LIST_COLUMNS,\n  WORKLOADS_LIST_COLUMNS_KEYS,\n  WORKLOADS_TABLE_CELL_LAST_SEEN,\n  WORKLOADS_TABLE_CELL_NAME,\n  WORKLOADS_TABLE_CELL_OBJECTS,\n  WORKLOADS_TABLE_CELL_RECOMMENDATIONS,\n  WORKLOADS_TABLE_FILTER_CATEGORIES,\n  WORKLOADS_TABLE_SEVERITY,\n} from '../../AppConstants';\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat';\nimport { Link, useLocation } from 'react-router-dom';\nimport { BASE_PATH } from '../../Routes';\nimport { Pagination } from '@patternfly/react-core';\nimport { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter/conditionalFilterConstants';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  WORKLOADS_TABLE_INITIAL_STATE,\n  resetFilters,\n  updateWorkloadsListFilters,\n} from '../../Services/Filters';\nimport isEqual from 'lodash/isEqual';\nimport {\n  buildFilterChips,\n  passFilterWorkloads,\n  removeFilterParam as _removeFilterParam,\n  addFilterParam as _addFilterParam,\n  translateSortParams,\n  paramParser,\n  updateSearchParams,\n} from '../Common/Tables';\nimport {\n  ErrorState,\n  NoMatchingWorkloads,\n  NoDVOInstalledOrDataCollected,\n} from '../MessageState/EmptyStates';\nimport Loading from '../Loading/Loading';\nimport ShieldSet from '../ShieldSet';\nimport { filtersAreApplied } from '../../Utilities/Workloads';\n\nconst WorkloadsListTable = ({\n  query: {\n    isError,\n    error,\n    isUninitialized,\n    isFetching,\n    isSuccess,\n    data,\n    refetch,\n  },\n}) => {\n  const dispatch = useDispatch();\n  const filters = useSelector(({ filters }) => filters.workloadsListState);\n  const workloads = data?.workloads || [];\n  const perPage = filters.limit;\n  const page = Math.floor(filters.offset / filters.limit) + 1;\n\n  const [rows, setRows] = useState([]);\n  const [filteredRows, setFilteredRows] = useState([]);\n  const [rowsFiltered, setRowsFiltered] = useState(false);\n  const [filtersApplied, setFiltersApplied] = useState(false);\n  const [filterBuilding, setFilterBuilding] = useState(true);\n  const updateFilters = (payload) =>\n    dispatch(updateWorkloadsListFilters(payload));\n  const removeFilterParam = (param) =>\n    _removeFilterParam(filters, updateFilters, param);\n\n  const loadingState = isUninitialized || isFetching || !rowsFiltered;\n  const errorState = isError;\n  const noMatch = filteredRows.length === 0;\n  const successState = isSuccess;\n  const { search } = useLocation();\n\n  const addFilterParam = (param, values) =>\n    _addFilterParam(filters, updateFilters, param, values);\n\n  useEffect(() => {\n    setFilteredRows(buildFilteredRows(workloads));\n  }, [\n    data,\n    filters.namespace_name,\n    filters.cluster_name,\n    filters.severity,\n    filters.sortDirection,\n    filters.sortIndex,\n  ]);\n\n  useEffect(() => {\n    if (search && filterBuilding) {\n      const paramsObject = paramParser(search);\n\n      if (paramsObject.sort) {\n        const sortObj = translateSortParams(paramsObject.sort);\n        paramsObject.sortIndex = WORKLOADS_LIST_COLUMNS_KEYS.indexOf(\n          sortObj.name\n        );\n        paramsObject.sortDirection = sortObj.direction;\n      }\n      paramsObject.offset &&\n        (paramsObject.offset = Number(paramsObject.offset[0]));\n      paramsObject.limit &&\n        (paramsObject.limit = Number(paramsObject.limit[0]));\n      paramsObject.impacting &&\n        !Array.isArray(paramsObject.impacting) &&\n        (paramsObject.impacting = [`${paramsObject.impacting}`]);\n      updateFilters({ ...filters, ...paramsObject });\n    }\n    setFilterBuilding(false);\n  }, []);\n\n  useEffect(() => {\n    if (!filterBuilding) {\n      updateSearchParams(filters, WORKLOADS_LIST_COLUMNS_KEYS);\n    }\n  }, [filters, filterBuilding]);\n\n  useEffect(() => {\n    setRows(buildDisplayedRows(filteredRows));\n    setRowsFiltered(true);\n    setFiltersApplied(filtersAreApplied(filters));\n  }, [filteredRows, filters.limit, filters.offset]);\n\n  const buildFilteredRows = (items) => {\n    setRowsFiltered(false);\n    const filtered = items\n      .filter((workloadData) => {\n        return passFilterWorkloads(workloadData, filters);\n      })\n      .sort((a, b) => {\n        let fst, snd;\n        const d = filters.sortDirection === 'asc' ? 1 : -1;\n        switch (filters.sortIndex) {\n          case WORKLOADS_TABLE_CELL_NAME:\n            fst = a.cluster?.display_name || a.cluster.uuid;\n            snd = b.cluster?.display_name || b.cluster.uuid;\n            return d * fst.localeCompare(snd);\n          case WORKLOADS_TABLE_CELL_RECOMMENDATIONS:\n            fst = a.metadata.recommendations || 0;\n            snd = b.metadata.recommendations || 0;\n            return fst > snd ? d : snd > fst ? -d : 0;\n          case WORKLOADS_TABLE_SEVERITY:\n            fst = a.metadata.hits_by_severity || { 1: 0, 2: 0, 3: 0, 4: 0 };\n            snd = b.metadata.hits_by_severity || { 1: 0, 2: 0, 3: 0, 4: 0 };\n            for (let i = 4; i > 0; i--) {\n              if (fst[i] > snd[i]) return d;\n              if (fst[i] < snd[i]) return -d;\n            }\n            return 0;\n          case WORKLOADS_TABLE_CELL_OBJECTS:\n            fst = a.metadata.objects || 0;\n            snd = b.metadata.objects || 0;\n            return fst > snd ? d : snd > fst ? -d : 0;\n          case WORKLOADS_TABLE_CELL_LAST_SEEN:\n            fst = new Date(a.metadata.last_checked_at || 0);\n            snd = new Date(b.metadata.last_checked_at || 0);\n            return fst > snd ? d : snd > fst ? -d : 0;\n        }\n      });\n\n    return filtered;\n  };\n\n  const buildDisplayedRows = (rows) => {\n    return rows\n      .slice(perPage * (page - 1), perPage * (page - 1) + perPage)\n      .map((item, index) => ({\n        entity: item,\n        cells: [\n          <span key={index}>\n            <Link\n              to={`${BASE_PATH}/workloads/${item.cluster.uuid}/${item.namespace.uuid}`}\n            >\n              <p key={`${index}-cluster`}>\n                {item.cluster.display_name || item.cluster.uuid}\n              </p>\n              <p key={`${index}-namespace`}>\n                {item.namespace.name || item.namespace.uuid}\n              </p>\n            </Link>\n          </span>,\n          item.metadata.recommendations,\n          <span key={index}>\n            <ShieldSet\n              hits_by_severity={item.metadata.hits_by_severity}\n              basePath={`${BASE_PATH}/workloads/${item.cluster.uuid}/${item.namespace.uuid}`}\n            />\n          </span>,\n          item.metadata.objects,\n          <span key={index}>\n            <DateFormat\n              extraTitle=\"Last seen: \"\n              date={item.metadata.last_checked_at}\n              variant=\"relative\"\n            />\n          </span>,\n        ],\n      }));\n  };\n\n  const filterConfigItems = [\n    {\n      label: 'Cluster name',\n      type: 'text',\n      filterValues: {\n        key: 'cluster_name',\n        onChange: (_event, value) =>\n          updateFilters({ ...filters, offset: 0, cluster_name: value }),\n        value: filters.cluster_name,\n        placeholder: 'Filter by cluster name',\n      },\n    },\n    {\n      label: 'Namespace name',\n      type: 'text',\n      filterValues: {\n        key: 'namespace_name',\n        onChange: (_event, value) =>\n          updateFilters({ ...filters, offset: 0, namespace_name: value }),\n        value: filters.namespace_name,\n        placeholder: 'Filter by namespace name',\n      },\n    },\n    {\n      label: 'Severity',\n      type: conditionalFilterType.checkbox,\n      id: WORKLOADS_TABLE_FILTER_CATEGORIES.severity.urlParam,\n      value: `checkbox-${WORKLOADS_TABLE_FILTER_CATEGORIES.severity.urlParam}`,\n      filterValues: {\n        key: `${WORKLOADS_TABLE_FILTER_CATEGORIES.severity.urlParam}-filter`,\n        onChange: (_event, value) => addFilterParam('severity', value),\n        value: filters.severity,\n        items: WORKLOADS_TABLE_FILTER_CATEGORIES.severity.values,\n        placeholder: 'Filter by severity',\n      },\n    },\n  ];\n\n  const activeFiltersConfig = {\n    showDeleteButton: filtersApplied,\n    deleteTitle: 'Reset filters',\n    filters: buildFilterChips(filters, WORKLOADS_TABLE_FILTER_CATEGORIES),\n    onDelete: (_event, itemsToRemove, isAll) => {\n      if (isAll) {\n        if (isEqual(filters, WORKLOADS_TABLE_INITIAL_STATE)) {\n          refetch();\n        } else {\n          resetFilters(filters, WORKLOADS_TABLE_INITIAL_STATE, updateFilters);\n        }\n      } else {\n        itemsToRemove.map((item) => {\n          const newFilter = {\n            [item.urlParam]: Array.isArray(filters[item.urlParam])\n              ? filters[item.urlParam].filter(\n                  (value) => String(value) !== String(item.chips[0].value)\n                )\n              : '',\n          };\n          newFilter[item.urlParam].length > 0\n            ? updateFilters({ ...filters, ...newFilter })\n            : removeFilterParam(item.urlParam);\n        });\n      }\n    },\n  };\n\n  const onSetPage = (_e, pageNumber) => {\n    setRowsFiltered(false);\n    const newOffset = pageNumber * filters.limit - filters.limit;\n    updateFilters({ ...filters, offset: newOffset });\n  };\n\n  const onSetPerPage = (_e, perPage) => {\n    if (perPage !== filters.limit) {\n      setRowsFiltered(false);\n      updateFilters({ ...filters, limit: perPage, offset: 0 });\n    }\n  };\n\n  const onSort = (_e, index, direction) => {\n    setRowsFiltered(false);\n    updateFilters({ ...filters, sortIndex: index, sortDirection: direction });\n  };\n\n  return isError && error.status === 404 ? (\n    <NoDVOInstalledOrDataCollected />\n  ) : isSuccess && workloads.length === 0 ? (\n    <NoDVOInstalledOrDataCollected />\n  ) : (\n    <div id=\"workloads-list-table\">\n      <PrimaryToolbar\n        pagination={{\n          itemCount: filteredRows.length,\n          page,\n          perPage,\n          onSetPage,\n          onPerPageSelect: onSetPerPage,\n          isCompact: true,\n          ouiaId: 'pager',\n        }}\n        filterConfig={{ items: filterConfigItems }}\n        activeFiltersConfig={\n          isError ? { showDeleteButton: false } : activeFiltersConfig\n        }\n      />\n      <Table\n        aria-label=\"Table of workloads\"\n        ouiaId=\"workloads\"\n        ouiaSafe={!loadingState}\n        variant={TableVariant.compact}\n        cells={WORKLOADS_LIST_COLUMNS}\n        rows={\n          errorState || loadingState || noMatch ? (\n            [\n              {\n                fullWidth: true,\n                cells: [\n                  {\n                    props: {\n                      colSpan: WORKLOADS_LIST_COLUMNS.length + 1,\n                    },\n                    title: errorState ? (\n                      <ErrorState />\n                    ) : loadingState ? (\n                      <Loading />\n                    ) : (\n                      <NoMatchingWorkloads />\n                    ),\n                  },\n                ],\n              },\n            ]\n          ) : successState ? (\n            rows\n          ) : (\n            <ErrorState />\n          )\n        }\n        isStickyHeader\n        sortBy={{\n          index: filters.sortIndex,\n          direction: filters.sortDirection,\n        }}\n        onSort={onSort}\n      >\n        <TableHeader />\n        <TableBody />\n      </Table>\n      <Pagination\n        ouiaId=\"pager\"\n        itemCount={filteredRows.length}\n        page={page}\n        perPage={perPage}\n        onSetPage={onSetPage}\n        onPerPageSelect={onSetPerPage}\n        onPageInput={onSetPage}\n        widgetId={`pagination-options-menu-bottom`}\n        variant={PaginationVariant.bottom}\n      />\n    </div>\n  );\n};\n\nWorkloadsListTable.propTypes = {\n  query: PropTypes.object.isRequired,\n};\n\nexport { WorkloadsListTable };\n","import React from 'react';\nimport { useGetWorkloadsQuery } from '../../Services/SmartProxy';\nimport { WorkloadsListTable } from './WorkloadsListTable';\n\nconst WorkloadsListTableWrapper = () => {\n  const query = useGetWorkloadsQuery();\n  return <WorkloadsListTable query={query} />;\n};\n\nexport default WorkloadsListTableWrapper;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\n\nimport PageHeader from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport messages from '../../Messages';\nimport WorkloadsListTable from '../WorkloadsListTable';\nimport { Title } from '@patternfly/react-core';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst WorkloadsList = () => {\n  const intl = useIntl();\n  const chrome = useChrome();\n\n  chrome.updateDocumentTitle(\n    intl.formatMessage(messages.documentTitle, {\n      subnav: 'Workloads',\n    })\n  );\n\n  return (\n    <React.Fragment>\n      <PageHeader className=\"ins-c-clusters-header\">\n        <Title headingLevel=\"h1\" ouiaId=\"page-header\">\n          Workloads\n        </Title>\n      </PageHeader>\n      <section className=\"pf-l-page__main-section pf-c-page__main-section\">\n        <WorkloadsListTable />\n      </section>\n    </React.Fragment>\n  );\n};\n\nexport default WorkloadsList;\n","import { SortByDirection } from '@patternfly/react-table';\nimport omitBy from 'lodash/omitBy';\nimport cloneDeep from 'lodash/cloneDeep';\nimport isEmpty from 'lodash/isEmpty';\n\nexport const SEVERITY_OPTIONS = [\n  {\n    value: 'critical',\n    label: 'Critical',\n    iconColor: 'var(--pf-global--danger-color--100)',\n    textColor: 'var(--pf-global--danger-color--100)',\n    hasIcon: true,\n    indexNumber: 4,\n  },\n  {\n    value: 'important',\n    label: 'Important',\n    iconColor: 'var(--pf-global--palette--orange-300)',\n    textColor: 'var(--pf-global--palette--orange-400)',\n    hasIcon: true,\n    indexNumber: 3,\n  },\n  {\n    value: 'moderate',\n    label: 'Moderate',\n    iconColor: 'var(--pf-global--warning-color--100)',\n    textColor: 'var(--pf-global--warning-color--200)',\n    hasIcon: true,\n    indexNumber: 2,\n  },\n  {\n    value: 'low',\n    label: 'Low',\n    iconColor: 'var(--pf-global--Color--200)',\n    textColor: 'var(--pf-global--default-color--300)',\n    hasIcon: true,\n    indexNumber: 1,\n  },\n];\n\nexport const remappingSeverity = (obj, mode) => {\n  const mapping = {\n    1: 'low',\n    2: 'moderate',\n    3: 'important',\n    4: 'critical',\n  };\n  let updatedObj = {};\n\n  if (mode === 'general' || mode === 'label') {\n    for (const key in obj) {\n      if (key in mapping) {\n        updatedObj[mapping[key]] = obj[key];\n      }\n    }\n  } else {\n    updatedObj = mapping[obj];\n  }\n\n  return updatedObj;\n};\n\nexport const hasAnyValueGreaterThanZero = (obj, stringsToCheck) => {\n  for (const key of stringsToCheck) {\n    if (obj[key] > 0) {\n      return true; // Return true if any matching string has a value greater than 0\n    }\n  }\n};\n\nexport const severityTypeToText = (value) => {\n  value = parseInt(value);\n  if (value === 1) {\n    return 'Low';\n  } else if (value === 2) {\n    return 'Moderate';\n  } else if (value === 3) {\n    return 'Important';\n  } else {\n    return 'Critical';\n  }\n};\n\nexport const filtersAreApplied = (params) => {\n  const cleanedUpParams = cloneDeep(params);\n  delete cleanedUpParams.sortIndex;\n  delete cleanedUpParams.sortDirection;\n  delete cleanedUpParams.offset;\n  delete cleanedUpParams.limit;\n  delete cleanedUpParams.sort;\n  return Object.values(cleanedUpParams).filter((value) => !isEmpty(value))\n    .length\n    ? true\n    : false;\n};\n\nexport const capitalize = (str) => {\n  return str?.charAt(0).toUpperCase() + str?.slice(1);\n};\n\nexport const createChips = (category, value) => {\n  if (category.values) {\n    const selectedCategoryValue = category.values.find(\n      (values) => values.value === String(value)\n    );\n\n    return selectedCategoryValue\n      ? {\n          name: selectedCategoryValue.label || selectedCategoryValue.text,\n          value,\n        }\n      : { name: value, value };\n  }\n\n  return { name: value, value };\n};\n\nexport const pruneWorkloadsRulesFilters = (localFilters, filterCategories) => {\n  const prunedFilters = Object.entries(localFilters);\n  return prunedFilters.reduce((arr, [name, value]) => {\n    if (filterCategories[name]) {\n      const category = filterCategories[name];\n      if (\n        (Array.isArray(value) && value.length > 0) ||\n        (typeof value === 'string' && value.trim() !== '')\n      ) {\n        const chips = Array.isArray(value)\n          ? value.map((v) => createChips(category, v))\n          : [createChips(category, value)];\n\n        arr.push({\n          category: capitalize(category.label),\n          chips,\n          urlParam: category.urlParam,\n        });\n      }\n    } else if (name === 'display_name' && value.trim() !== '') {\n      arr.push({\n        category: capitalize(name.replace('display_name', 'Name')),\n        chips: [{ name: value, value }],\n        urlParam: 'display_name',\n      });\n    } else if (\n      (name === 'description' || name === 'object_id') &&\n      value.trim() !== ''\n    ) {\n      arr.push({\n        category: capitalize(name.replace('_', ' ')),\n        chips: [{ name: value, value }],\n        urlParam: name,\n      });\n    }\n\n    return arr;\n  }, []);\n};\n\nexport const switchSort = (sortIndex, item) => {\n  const rule = item[0].rule;\n  switch (sortIndex) {\n    case 1:\n      return rule.details;\n    case 2:\n      return rule.total_risk;\n    case 3:\n      return rule.objects.length;\n    case 4:\n      return rule.modified;\n  }\n};\n\nexport const sortWithSwitch = (sortIndex, sortDirection, filteredRows) => {\n  return sortIndex >= 1\n    ? [...filteredRows]?.sort((a, b) => {\n        const d = sortDirection === SortByDirection.asc ? 1 : -1;\n        return switchSort(sortIndex, a) > switchSort(sortIndex, b)\n          ? d\n          : switchSort(sortIndex, b) > switchSort(sortIndex, a)\n          ? -d\n          : 0;\n      })\n    : [...filteredRows];\n};\n\nexport const flatMapRows = (filteredRows, expandFirst) => {\n  return filteredRows.flatMap((row, index) => {\n    const updatedRow = [...row];\n    if (expandFirst && index === 0) {\n      row[0].isOpen = true;\n    }\n    row[1].parent = index * 2;\n    return updatedRow;\n  });\n};\n\nexport const passObjectsFilters = (objects, filters) => {\n  const cleanedUpFilters = omitBy(cloneDeep(filters), isEmpty);\n  return Object.entries(cleanedUpFilters).every(([filterKey, filterValue]) => {\n    switch (filterKey) {\n      case 'display_name':\n        return (\n          filterValue &&\n          objects?.display_name\n            ?.toLowerCase()\n            .includes(filterValue.toLowerCase())\n        );\n      case 'object_id':\n        return (\n          filterValue &&\n          objects?.uid?.toLowerCase().includes(filterValue.toLowerCase())\n        );\n      default:\n        return true;\n    }\n  });\n};\n\nexport const workloadsRulesRemoveFilterParam = (\n  currentFilters,\n  updateFilters,\n  param\n) => {\n  const { [param]: omitted, ...newFilters } = { ...currentFilters };\n  updateFilters({\n    ...newFilters,\n    ...(param === 'description'\n      ? { description: '' }\n      : param === 'total_risk'\n      ? { total_risk: [] }\n      : param === 'object_id'\n      ? { object_id: '' }\n      : {}),\n  });\n};\n\nexport const workloadsRulesAddFilterParam = (\n  currentFilters,\n  updateFilters,\n  param,\n  values\n) =>\n  values.length > 0\n    ? updateFilters({\n        ...currentFilters,\n        ...{ [param]: values },\n      })\n    : workloadsRulesRemoveFilterParam(currentFilters, updateFilters, param);\n\nexport const passFilterWorkloadsRecs = (recommendation, filters) => {\n  const cleanedUpFilters = omitBy(cloneDeep(filters), isEmpty);\n\n  return Object.entries(cleanedUpFilters).every(([filterKey, filterValue]) => {\n    switch (filterKey) {\n      case 'description':\n        return (\n          filterValue &&\n          recommendation.details\n            .toLowerCase()\n            .includes(filterValue.toLowerCase())\n        );\n      case 'object_id':\n        return (\n          filterValue &&\n          recommendation.objects.some((obj) =>\n            obj.uid.toLowerCase().includes(filterValue.toLowerCase())\n          )\n        );\n      case 'total_risk':\n        return (\n          filterValue && filterValue.includes(String(recommendation.total_risk))\n        );\n      default:\n        return true;\n    }\n  });\n};\n"],"names":["passFilters","rule","filters","Object","entries","every","filterKey","filterValue","description","toLowerCase","includes","total_risk","urlParam","String","category","tags","find","c","impact","impacting","length","some","v","impacted_clusters_count","likelihood","rule_status","disabled","res_risk","resolution_risk","passFiltersCluster","cluster","cluster_name","cluster_id","hits","parseInt","total_hit_count","hits_by_total_risk","toValidSemVer","cluster_version","buildFilterChips","categories","localFilters","sortIndex","sortDirection","sort","offset","limit","filterCategories","reduce","arr","it","key","item","chips","Array","isArray","map","value","selectedCategoryValue","values","name","text","label","title","pruneFilters","paramParser","search","searchParams","URLSearchParams","from","acc","JSON","parse","split","translateSortParams","substring","startsWith","direction","object_id","updateSearchParams","columnMapping","url","URL","window","location","origin","pathname","index","indexMapping","set","console","error","forEach","history","replaceState","href","compareSemVer","v1","v2","d","compare","version","coerce","undefined","valid","removeFilterParam","currentFilters","updateFilters","param","omitted","newFilters","addFilterParam","passFilterWorkloads","workloads","generalSeverityRemapped","metadata","hits_by_severity","display_name","uuid","namespace","severity","Card","ouiaId","CardBody","ShieldSet","basePath","severitiesRemapped","className","severityOption","Tooltip","content","hasIcon","style","color","Link","to","indexNumber","iconColor","propTypes","critical","important","moderate","low","isRequired","linkTo","WorkloadsListTable","query","isError","isUninitialized","isFetching","isSuccess","data","refetch","dispatch","useDispatch","useSelector","workloadsListState","perPage","page","Math","floor","rows","setRows","useState","filteredRows","setFilteredRows","rowsFiltered","setRowsFiltered","filtersApplied","setFiltersApplied","filterBuilding","setFilterBuilding","payload","loadingState","errorState","noMatch","successState","useLocation","useEffect","buildFilteredRows","namespace_name","paramsObject","sortObj","indexOf","Number","buildDisplayedRows","items","filter","workloadData","a","b","fst","snd","localeCompare","recommendations","i","objects","Date","last_checked_at","slice","entity","cells","DateFormat","extraTitle","date","variant","filterConfigItems","type","filterValues","onChange","_event","placeholder","conditionalFilterType","checkbox","id","activeFiltersConfig","showDeleteButton","deleteTitle","onDelete","itemsToRemove","isAll","newFilter","onSetPage","_e","pageNumber","newOffset","onSetPerPage","status","PrimaryToolbar","pagination","itemCount","onPerPageSelect","isCompact","filterConfig","Table","ouiaSafe","compact","fullWidth","props","colSpan","Loading","isStickyHeader","sortBy","onSort","Pagination","onPageInput","widgetId","bottom","intl","useIntl","useChrome","updateDocumentTitle","formatMessage","documentTitle","subnav","PageHeader","Title","headingLevel","SEVERITY_OPTIONS","textColor","remappingSeverity","obj","mode","mapping","updatedObj","hasAnyValueGreaterThanZero","stringsToCheck","filtersAreApplied","params","cleanedUpParams","capitalize","str","charAt","toUpperCase","createChips","pruneWorkloadsRulesFilters","trim","push","replace","switchSort","details","modified","sortWithSwitch","asc","flatMapRows","expandFirst","flatMap","row","updatedRow","isOpen","parent","passObjectsFilters","cleanedUpFilters","uid","workloadsRulesRemoveFilterParam","workloadsRulesAddFilterParam","passFilterWorkloadsRecs","recommendation"],"sourceRoot":""}