{"version":3,"file":"js/RulesTable.09ae9779592b83581207.js","mappings":"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","sources":["webpack:///./src/Components/Labels/CategoryLabel.js","webpack:///./src/Components/RecsListTable/RecsListTable.js","webpack:///./src/Components/RecsListTable/index.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { camelCase } from 'lodash';\n\nimport { Label } from '@patternfly/react-core/dist/js/components/Label/index';\nimport { LabelGroup } from '@patternfly/react-core/dist/js/components/LabelGroup/LabelGroup';\nimport LockIcon from '@patternfly/react-icons/dist/esm/icons/lock-icon';\nimport PortIcon from '@patternfly/react-icons/dist/esm/icons/port-icon';\nimport AutomationIcon from '@patternfly/react-icons/dist/esm/icons/automation-icon';\nimport SyncAltIcon from '@patternfly/react-icons/dist/esm/icons/sync-icon';\n\nimport messages from '../../Messages';\nimport { RULE_CATEGORIES } from '../../AppConstants';\n\nconst CATEGORY_ICONS = {\n  security: <LockIcon />,\n  service_availability: <AutomationIcon />,\n  performance: <PortIcon />,\n  fault_tolerance: <SyncAltIcon />,\n};\n\nexport const extractCategories = (tags) =>\n  tags.filter((t) => Object.keys(RULE_CATEGORIES).includes(t));\n\nconst CategoryLabel = ({ tags }) => {\n  const intl = useIntl();\n\n  return (\n    <LabelGroup numLabels={4}>\n      {extractCategories(tags).map((tag, key) => (\n        <Label\n          key={key}\n          icon={CATEGORY_ICONS[tag]}\n          variant=\"outline\"\n          color=\"blue\"\n        >\n          {intl.formatMessage(messages[camelCase(tag)])}\n        </Label>\n      ))}\n    </LabelGroup>\n  );\n};\n\nCategoryLabel.propTypes = {\n  tags: PropTypes.array.isRequired,\n};\n\nexport default CategoryLabel;\n","import './RecsListTable.scss';\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport {\n  SortByDirection,\n  Table,\n  TableBody,\n  TableHeader,\n  TableVariant,\n} from '@patternfly/react-table';\nimport { Card, CardBody } from '@patternfly/react-core/dist/js/components/Card';\nimport {\n  Pagination,\n  PaginationVariant,\n} from '@patternfly/react-core/dist/js/components/Pagination';\nimport { Stack } from '@patternfly/react-core/dist/js/layouts/Stack';\nimport {\n  Tooltip,\n  TooltipPosition,\n} from '@patternfly/react-core/dist/js/components/Tooltip';\n\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/DateFormat';\nimport { InsightsLabel } from '@redhat-cloud-services/frontend-components/InsightsLabel';\nimport PrimaryToolbar from '@redhat-cloud-services/frontend-components/PrimaryToolbar/PrimaryToolbar';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\n\nimport {\n  FILTER_CATEGORIES,\n  RECS_LIST_COLUMNS,\n  TOTAL_RISK_LABEL_LOWER,\n} from '../../AppConstants';\nimport messages from '../../Messages';\nimport {\n  RECS_LIST_INITIAL_STATE,\n  updateRecsListFilters as updateFilters,\n} from '../../Services/Filters';\nimport RuleLabels from '../Labels/RuleLabels';\nimport { strong } from '../../Utilities/intlHelper';\nimport Loading from '../Loading/Loading';\nimport { ErrorState, NoMatchingRecs } from '../MessageState/EmptyStates';\nimport RuleDetails from '../Recommendation/RuleDetails';\nimport { passFilters, capitalize } from '../Common/Tables';\nimport DisableRule from '../Modals/DisableRule';\nimport { Delete } from '../../Utilities/Api';\nimport { BASE_URL } from '../../Services/SmartProxy';\nimport CategoryLabel, { extractCategories } from '../Labels/CategoryLabel';\n\nconst RecsListTable = ({ query }) => {\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const filters = useSelector(({ filters }) => filters.recsListState);\n  const { isError, isUninitialized, isFetching, isSuccess, data, refetch } =\n    query;\n  const recs = data?.recommendations || [];\n  const page = filters.offset / filters.limit + 1;\n  const [filteredRows, setFilteredRows] = useState([]);\n  const [displayedRows, setDisplayedRows] = useState([]);\n  const [disableRuleOpen, setDisableRuleOpen] = useState(false);\n  const [selectedRule, setSelectedRule] = useState({});\n  const [isAllExpanded, setIsAllExpanded] = useState(false);\n  const notify = (data) => dispatch(addNotification(data));\n\n  useEffect(() => {\n    setDisplayedRows(\n      buildDisplayedRows(filteredRows, filters.sortIndex, filters.sortDirection)\n    );\n  }, [\n    filteredRows,\n    filters.limit,\n    filters.offset,\n    filters.sortIndex,\n    filters.sortDirection,\n  ]);\n\n  useEffect(() => {\n    setFilteredRows(buildFilteredRows(recs, filters));\n  }, [data, filters]);\n\n  // constructs array of rows (from the initial data) checking currently applied filters\n  const buildFilteredRows = (allRows, filters) => {\n    return allRows\n      .filter((rule) => passFilters(rule, filters))\n      .map((value, key) => [\n        {\n          isOpen: isAllExpanded,\n          rule: value,\n          cells: [\n            {\n              title: (\n                <span key={key}>\n                  <Link\n                    key={key}\n                    // https://github.com/RedHatInsights/ocp-advisor-frontend/issues/29\n                    to={`/recommendations/${\n                      process.env.NODE_ENV === 'development'\n                        ? value.rule_id.replaceAll('.', '%2E')\n                        : value.rule_id\n                    }`}\n                  >\n                    {' '}\n                    {value?.description || value?.rule_id}{' '}\n                  </Link>\n                  <RuleLabels rule={value} />\n                </span>\n              ),\n            },\n            {\n              title: value?.publish_date ? (\n                <DateFormat\n                  key={key}\n                  date={value.publish_date}\n                  variant=\"relative\"\n                />\n              ) : (\n                intl.formatMessage(messages.nA)\n              ),\n            },\n            { title: <CategoryLabel key={key} tags={value.tags} /> },\n            {\n              title: (\n                <div key={key}>\n                  <Tooltip\n                    key={key}\n                    position={TooltipPosition.bottom}\n                    content={intl.formatMessage(\n                      messages.rulesDetailsTotalRiskBody,\n                      {\n                        risk:\n                          TOTAL_RISK_LABEL_LOWER[value.total_risk] ||\n                          intl.formatMessage(messages.undefined),\n                        strong: (str) => strong(str),\n                      }\n                    )}\n                  >\n                    {value?.total_risk ? (\n                      <InsightsLabel value={value.total_risk} />\n                    ) : (\n                      intl.formatMessage(messages.nA)\n                    )}\n                  </Tooltip>\n                </div>\n              ),\n            },\n            {\n              title: (\n                <div key={key}>{`${\n                  value?.impacted_clusters_count !== undefined\n                    ? value.impacted_clusters_count.toLocaleString()\n                    : intl.formatMessage(messages.nA)\n                }`}</div>\n              ),\n            },\n          ],\n        },\n        {\n          fullWidth: true,\n          cells: [\n            {\n              title: (\n                <section className=\"pf-m-light pf-l-page__main-section pf-c-page__main-section\">\n                  <Stack hasGutter>\n                    <RuleDetails\n                      rule={{\n                        ...value,\n                        impact: { impact: value.impact },\n                        // TODO: fix <Router> issue in the async component and then remove the line below\n                        impacted_clusters_count: undefined,\n                      }}\n                      isDetailsPage={false}\n                    />\n                  </Stack>\n                </section>\n              ),\n            },\n          ],\n        },\n      ]);\n  };\n\n  const buildDisplayedRows = (rows, index, direction) => {\n    const sortedRecommendations = [\n      'description',\n      'publish_date',\n      'tags',\n      'total_risk',\n      'impacted_clusters_count',\n    ];\n    const sortingRows = [...rows].sort((firstItem, secondItem) => {\n      const fst = firstItem[0].rule[sortedRecommendations[index - 1]];\n      const snd = secondItem[0].rule[sortedRecommendations[index - 1]];\n      if (index === 3) {\n        return extractCategories(fst)[0].localeCompare(\n          extractCategories(snd)[0]\n        );\n      }\n      return fst > snd ? 1 : snd > fst ? -1 : 0;\n    });\n    if (direction === SortByDirection.desc) {\n      sortingRows.reverse();\n    }\n    return sortingRows\n      .slice(\n        filters.limit * (page - 1),\n        filters.limit * (page - 1) + filters.limit\n      )\n      .flatMap((row, index) => {\n        const updatedRow = [...row];\n        row[1].parent = index * 2;\n        return updatedRow;\n      });\n  };\n\n  const removeFilterParam = (param) => {\n    const filter = { ...filters, offset: 0 };\n    delete filter[param];\n    dispatch(\n      updateFilters({ ...filter, ...(param === 'text' ? { text: '' } : {}) })\n    );\n  };\n\n  // TODO: update URL when filters changed\n  const addFilterParam = (param, values) => {\n    values.length > 0\n      ? dispatch(\n          updateFilters({ ...filters, offset: 0, ...{ [param]: values } })\n        )\n      : removeFilterParam(param);\n  };\n\n  const toggleRulesDisabled = (rule_status) => {\n    dispatch(\n      updateFilters({\n        ...filters,\n        rule_status,\n        offset: 0,\n        ...(rule_status !== 'enabled' && { impacting: ['false'] }),\n      })\n    );\n  };\n\n  const filterConfigItems = [\n    {\n      label: intl.formatMessage(messages.name).toLowerCase(),\n      filterValues: {\n        key: 'text-filter',\n        onChange: (_event, value) =>\n          dispatch(updateFilters({ ...filters, text: value })),\n        value: filters.text,\n        placeholder: intl.formatMessage(messages.filterBy),\n      },\n    },\n    {\n      label: FILTER_CATEGORIES.total_risk.title,\n      type: FILTER_CATEGORIES.total_risk.type,\n      id: FILTER_CATEGORIES.total_risk.urlParam,\n      value: `checkbox-${FILTER_CATEGORIES.total_risk.urlParam}`,\n      filterValues: {\n        key: `${FILTER_CATEGORIES.total_risk.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FILTER_CATEGORIES.total_risk.urlParam, values),\n        value: filters.total_risk,\n        items: FILTER_CATEGORIES.total_risk.values,\n      },\n    },\n    {\n      label: FILTER_CATEGORIES.impact.title,\n      type: FILTER_CATEGORIES.impact.type,\n      id: FILTER_CATEGORIES.impact.urlParam,\n      value: `checkbox-${FILTER_CATEGORIES.impact.urlParam}`,\n      filterValues: {\n        key: `${FILTER_CATEGORIES.impact.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FILTER_CATEGORIES.impact.urlParam, values),\n        value: filters.impact,\n        items: FILTER_CATEGORIES.impact.values,\n      },\n    },\n    {\n      label: FILTER_CATEGORIES.likelihood.title,\n      type: FILTER_CATEGORIES.likelihood.type,\n      id: FILTER_CATEGORIES.likelihood.urlParam,\n      value: `checkbox-${FILTER_CATEGORIES.likelihood.urlParam}`,\n      filterValues: {\n        key: `${FILTER_CATEGORIES.likelihood.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FILTER_CATEGORIES.likelihood.urlParam, values),\n        value: filters.likelihood,\n        items: FILTER_CATEGORIES.likelihood.values,\n      },\n    },\n    {\n      label: FILTER_CATEGORIES.category.title,\n      type: FILTER_CATEGORIES.category.type,\n      id: FILTER_CATEGORIES.category.urlParam,\n      value: `checkbox-${FILTER_CATEGORIES.category.urlParam}`,\n      filterValues: {\n        key: `${FILTER_CATEGORIES.category.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FILTER_CATEGORIES.category.urlParam, values),\n        value: filters.category,\n        items: FILTER_CATEGORIES.category.values,\n      },\n    },\n    {\n      label: FILTER_CATEGORIES.rule_status.title,\n      type: FILTER_CATEGORIES.rule_status.type,\n      id: FILTER_CATEGORIES.rule_status.urlParam,\n      value: `radio-${FILTER_CATEGORIES.rule_status.urlParam}`,\n      filterValues: {\n        key: `${FILTER_CATEGORIES.rule_status.urlParam}-filter`,\n        onChange: (_event, value) => toggleRulesDisabled(value),\n        value: `${filters.rule_status}`,\n        items: FILTER_CATEGORIES.rule_status.values,\n      },\n    },\n    {\n      label: FILTER_CATEGORIES.impacting.title,\n      type: FILTER_CATEGORIES.impacting.type,\n      id: FILTER_CATEGORIES.impacting.urlParam,\n      value: `checkbox-${FILTER_CATEGORIES.impacting.urlParam}`,\n      filterValues: {\n        key: `${FILTER_CATEGORIES.impacting.urlParam}-filter`,\n        onChange: (e, values) =>\n          addFilterParam(FILTER_CATEGORIES.impacting.urlParam, values),\n        value: filters.impacting,\n        items: FILTER_CATEGORIES.impacting.values,\n      },\n    },\n  ];\n\n  const onSort = (_e, index, direction) => {\n    dispatch(\n      updateFilters({ ...filters, sortIndex: index, sortDirection: direction })\n    );\n  };\n\n  const pruneFilters = (localFilters, filterCategories) => {\n    const prunedFilters = Object.entries(localFilters);\n    return prunedFilters.length > 0\n      ? prunedFilters.reduce((arr, item) => {\n          if (filterCategories[item[0]]) {\n            const category = filterCategories[item[0]];\n            const chips = Array.isArray(item[1])\n              ? item[1].map((value) => {\n                  const selectedCategoryValue = category.values.find(\n                    (values) => values.value === String(value)\n                  );\n                  return selectedCategoryValue\n                    ? {\n                        name:\n                          selectedCategoryValue.text ||\n                          selectedCategoryValue.label,\n                        value,\n                      }\n                    : { name: value, value };\n                })\n              : [\n                  {\n                    name: category.values.find(\n                      (values) => values.value === String(item[1])\n                    ).label,\n                    value: item[1],\n                  },\n                ];\n            return [\n              ...arr,\n              {\n                category: capitalize(category.title),\n                chips,\n                urlParam: category.urlParam,\n              },\n            ];\n          } else if (item[0] === 'text') {\n            return [\n              ...arr,\n              ...(item[1].length > 0\n                ? [\n                    {\n                      category: 'Name',\n                      chips: [{ name: item[1], value: item[1] }],\n                      urlParam: item[0],\n                    },\n                  ]\n                : []),\n            ];\n          } else {\n            return arr;\n          }\n        }, [])\n      : [];\n  };\n\n  const buildFilterChips = () => {\n    const localFilters = { ...filters };\n    delete localFilters.sortIndex;\n    delete localFilters.sortDirection;\n    delete localFilters.offset;\n    delete localFilters.limit;\n    return pruneFilters(localFilters, FILTER_CATEGORIES);\n  };\n\n  const activeFiltersConfig = {\n    deleteTitle: intl.formatMessage(messages.resetFilters),\n    filters: buildFilterChips(),\n    onDelete: (_event, itemsToRemove, isAll) => {\n      if (isAll) {\n        dispatch(updateFilters(RECS_LIST_INITIAL_STATE));\n      } else {\n        itemsToRemove.map((item) => {\n          const newFilter = {\n            [item.urlParam]: Array.isArray(filters[item.urlParam])\n              ? filters[item.urlParam].filter(\n                  (value) => String(value) !== String(item.chips[0].value)\n                )\n              : '',\n          };\n          newFilter[item.urlParam].length > 0\n            ? dispatch(updateFilters({ ...filters, ...newFilter }))\n            : removeFilterParam(item.urlParam);\n        });\n      }\n    },\n  };\n\n  //Responsible for the handling collapse for all the recommendations\n  //Used in the PrimaryToolbar\n  const collapseAll = (_e, isOpen) => {\n    setIsAllExpanded(isOpen);\n    setDisplayedRows(\n      displayedRows.map((row) => {\n        return {\n          ...row,\n          isOpen: isOpen,\n        };\n      })\n    );\n  };\n\n  //Responsible for handling collapse for single recommendation\n  const handleOnCollapse = (_e, rowId, isOpen) => {\n    const collapseRows = [...displayedRows];\n    collapseRows[rowId] = { ...collapseRows[rowId], isOpen };\n    setDisplayedRows(collapseRows);\n  };\n\n  const ackRule = async (rowId) => {\n    const rule = displayedRows[rowId].rule;\n\n    try {\n      if (!rule.disabled) {\n        // show disable rule modal\n        setSelectedRule(rule);\n        setDisableRuleOpen(true);\n      } else {\n        try {\n          await Delete(`${BASE_URL}/v2/ack/${rule.rule_id}/`);\n          notify({\n            variant: 'success',\n            timeout: true,\n            dismissable: true,\n            title: intl.formatMessage(messages.recSuccessfullyEnabled),\n          });\n          refetch();\n        } catch (error) {\n          notify({\n            variant: 'danger',\n            dismissable: true,\n            title: intl.formatMessage(messages.error),\n            description: `${error}`,\n          });\n        }\n      }\n    } catch (error) {\n      notify({\n        variant: 'danger',\n        dismissable: true,\n        title: rule.disabled\n          ? intl.formatMessage(messages.rulesTableErrorEnabled)\n          : intl.formatMessage(messages.rulesTableErrorDisabled),\n        description: `${error}`,\n      });\n    }\n  };\n\n  const actionResolver = (rowData, { rowIndex }) => {\n    const rule = displayedRows[rowIndex].rule\n      ? displayedRows[rowIndex].rule\n      : null;\n    if (rowIndex % 2 !== 0 || !rule) {\n      return null;\n    }\n\n    return rule && !rule.disabled\n      ? [\n          {\n            title: intl.formatMessage(messages.disableRule),\n            onClick: (_event, rowId) => ackRule(rowId),\n          },\n        ]\n      : [\n          {\n            title: intl.formatMessage(messages.enableRule),\n            onClick: (_event, rowId) => ackRule(rowId),\n          },\n        ];\n  };\n\n  return (\n    <div id=\"recs-list-table\">\n      {disableRuleOpen && (\n        <DisableRule\n          handleModalToggle={setDisableRuleOpen}\n          isModalOpen={disableRuleOpen}\n          rule={selectedRule}\n          afterFn={refetch}\n        />\n      )}\n      <PrimaryToolbar\n        expandAll={{ isAllExpanded, onClick: collapseAll }}\n        pagination={{\n          itemCount: filteredRows.length,\n          page: filters.offset / filters.limit + 1,\n          perPage: Number(filters.limit),\n          onSetPage(_event, page) {\n            dispatch(\n              updateFilters({\n                ...filters,\n                offset: filters.limit * (page - 1),\n              })\n            );\n          },\n          onPerPageSelect(_event, perPage) {\n            dispatch(updateFilters({ ...filters, limit: perPage, offset: 0 }));\n          },\n          isCompact: true,\n        }}\n        filterConfig={{ items: filterConfigItems }}\n        activeFiltersConfig={activeFiltersConfig}\n      />\n      {(isUninitialized || isFetching) && <Loading />}\n      {(isError || (isSuccess && recs.length === 0)) && (\n        <Card id=\"error-state-message\">\n          <CardBody>\n            <ErrorState />\n          </CardBody>\n        </Card>\n      )}\n      {!(isUninitialized || isFetching) && isSuccess && recs.length > 0 && (\n        <React.Fragment>\n          <Table\n            aria-label=\"Table of recommendations\"\n            ouiaId=\"recsListTable\"\n            variant={TableVariant.compact}\n            cells={RECS_LIST_COLUMNS}\n            rows={displayedRows}\n            onCollapse={handleOnCollapse}\n            sortBy={{\n              index: filters.sortIndex,\n              direction: filters.sortDirection,\n            }}\n            onSort={onSort}\n            actionResolver={actionResolver}\n          >\n            <TableHeader />\n            <TableBody />\n          </Table>\n          {recs.length > 0 && filteredRows.length === 0 && (\n            <Card ouiaId={'empty-recommendations'}>\n              <CardBody>\n                <NoMatchingRecs />\n              </CardBody>\n            </Card>\n          )}\n        </React.Fragment>\n      )}\n      <Pagination\n        ouiaId=\"recs-list-pagination-bottom\"\n        itemCount={filteredRows.length}\n        page={filters.offset / filters.limit + 1}\n        perPage={Number(filters.limit)}\n        onSetPage={(_e, page) => {\n          dispatch(\n            updateFilters({\n              ...filters,\n              offset: filters.limit * (page - 1),\n            })\n          );\n        }}\n        onPerPageSelect={(_e, perPage) => {\n          dispatch(updateFilters({ ...filters, limit: perPage, offset: 0 }));\n        }}\n        widgetId={`pagination-options-menu-bottom`}\n        variant={PaginationVariant.bottom}\n      />\n    </div>\n  );\n};\n\nRecsListTable.propTypes = {\n  query: PropTypes.shape({\n    isError: PropTypes.bool.isRequired,\n    isUninitialized: PropTypes.bool.isRequired,\n    isFetching: PropTypes.bool.isRequired,\n    isSuccess: PropTypes.bool.isRequired,\n    data: PropTypes.array,\n    refetch: PropTypes.func,\n  }),\n};\n\nexport { RecsListTable };\n","import React from 'react';\n\nimport { RecsListTable } from './RecsListTable';\nimport { useGetRecsQuery } from '../../Services/SmartProxy';\n\nconst RecsListTableWrapper = () => {\n  const query = useGetRecsQuery();\n\n  return <RecsListTable query={query} />;\n};\n\nexport default RecsListTableWrapper;\n"],"names":["CATEGORY_ICONS","security","service_availability","performance","fault_tolerance","extractCategories","tags","filter","t","Object","keys","RULE_CATEGORIES","includes","CategoryLabel","intl","useIntl","LabelGroup","numLabels","map","tag","key","Label","icon","variant","color","formatMessage","messages","camelCase","propTypes","PropTypes","RecsListTable","query","dispatch","useDispatch","filters","useSelector","recsListState","isError","isUninitialized","isFetching","isSuccess","data","refetch","recs","recommendations","page","offset","limit","useState","filteredRows","setFilteredRows","displayedRows","setDisplayedRows","disableRuleOpen","setDisableRuleOpen","selectedRule","setSelectedRule","isAllExpanded","setIsAllExpanded","notify","addNotification","useEffect","buildDisplayedRows","sortIndex","sortDirection","buildFilteredRows","localFilters","allRows","rule","passFilters","value","isOpen","cells","title","Link","to","rule_id","description","RuleLabels","publish_date","DateFormat","date","Tooltip","position","TooltipPosition","content","risk","TOTAL_RISK_LABEL_LOWER","total_risk","strong","str","InsightsLabel","undefined","impacted_clusters_count","toLocaleString","fullWidth","className","Stack","hasGutter","RuleDetails","impact","isDetailsPage","rows","index","direction","sortedRecommendations","sortingRows","sort","firstItem","secondItem","fst","snd","localeCompare","SortByDirection","reverse","slice","flatMap","row","updatedRow","parent","removeFilterParam","param","updateFilters","text","addFilterParam","values","length","filterConfigItems","label","toLowerCase","filterValues","onChange","_event","placeholder","FILTER_CATEGORIES","type","id","items","likelihood","category","rule_status","impacting","e","activeFiltersConfig","deleteTitle","filterCategories","prunedFilters","entries","reduce","arr","item","chips","Array","isArray","selectedCategoryValue","find","String","name","capitalize","urlParam","pruneFilters","onDelete","itemsToRemove","isAll","RECS_LIST_INITIAL_STATE","newFilter","ackRule","rowId","disabled","Delete","BASE_URL","timeout","dismissable","DisableRule","handleModalToggle","isModalOpen","afterFn","PrimaryToolbar","expandAll","onClick","_e","pagination","itemCount","perPage","Number","onSetPage","onPerPageSelect","isCompact","filterConfig","Loading","Card","CardBody","Table","ouiaId","TableVariant","RECS_LIST_COLUMNS","onCollapse","collapseRows","sortBy","onSort","actionResolver","rowData","rowIndex","TableHeader","TableBody","Pagination","widgetId","PaginationVariant","useGetRecsQuery"],"sourceRoot":""}