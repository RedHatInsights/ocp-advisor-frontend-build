{"version":3,"file":"js/606.30f632e0bb38c9a52e96.js","mappings":"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","sources":["webpack:///./src/Components/Modals/DisableRule.js","webpack:///./src/Components/RuleDetailsLocal/RuleRating.js","webpack:///./src/Components/RuleDetailsLocal/RuleDetails.js","webpack:///./src/Components/Recommendation/RuleDetails.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\n\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport { Checkbox } from '@patternfly/react-core/dist/js/components/Checkbox/Checkbox';\nimport { Form } from '@patternfly/react-core/dist/js/components/Form/Form';\nimport { FormGroup } from '@patternfly/react-core/dist/js/components/Form/FormGroup';\nimport { Modal } from '@patternfly/react-core/dist/js/components/Modal/Modal';\nimport { TextInput } from '@patternfly/react-core/dist/js/components/TextInput/TextInput';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\n\nimport messages from '../../Messages';\nimport { disableRuleForCluster, useSetAckMutation } from '../../Services/Acks';\n\nconst DisableRule = ({\n  isModalOpen,\n  handleModalToggle,\n  rule,\n  afterFn,\n  host,\n  hosts,\n}) => {\n  const intl = useIntl();\n  const [justification, setJustificaton] = useState('');\n  const [singleHost, setSingleHost] = useState(!!host);\n  const [multipleHosts, setMultipleHosts] = useState(hosts.length > 0);\n  const [setAck] = useSetAckMutation();\n  const dispatch = useDispatch();\n  const notify = (data) => dispatch(addNotification(data));\n\n  const bulkHostActions = async () => {\n    // disable for a group of hosts (clusters)\n    try {\n      const requests = hosts.map((h) =>\n        disableRuleForCluster({\n          uuid: h.id,\n          recId: rule.rule_id,\n          justification,\n        })\n      );\n      await Promise.all(requests);\n      notify({\n        variant: 'success',\n        dismissable: true,\n        timeout: true,\n        title: intl.formatMessage(messages.recSuccessfullyDisabledForCluster),\n      });\n      afterFn && afterFn();\n    } catch (error) {\n      notify({\n        variant: 'danger',\n        dismissable: true,\n        title: intl.formatMessage(messages.error),\n        description: `${error}`,\n      });\n    }\n  };\n\n  const disableRule = async () => {\n    try {\n      if (singleHost) {\n        // disable the rec for this single cluster\n        await disableRuleForCluster({\n          uuid: host,\n          recId: rule.rule_id,\n          justification,\n        });\n        notify({\n          variant: 'success',\n          timeout: true,\n          dismissable: true,\n          title: intl.formatMessage(messages.recSuccessfullyDisabledForCluster),\n        });\n      } else if (multipleHosts) {\n        bulkHostActions();\n      } else {\n        // disable the whole rec\n        await setAck({\n          rule_id: rule.rule_id,\n          justification,\n        }).unwrap();\n        notify({\n          variant: 'success',\n          timeout: true,\n          dismissable: true,\n          title: intl.formatMessage(messages.recSuccessfullyDisabled),\n        });\n      }\n      setJustificaton('');\n      afterFn && afterFn();\n    } catch (error) {\n      notify({\n        variant: 'danger',\n        dismissable: true,\n        title: intl.formatMessage(messages.error),\n        description: `${error}`,\n      });\n    }\n\n    handleModalToggle(false);\n  };\n\n  return (\n    <Modal\n      variant=\"small\"\n      title={intl.formatMessage(messages.disableRule)}\n      isOpen={isModalOpen}\n      onClose={() => {\n        handleModalToggle();\n        setJustificaton('');\n      }}\n      actions={[\n        <Button\n          key=\"confirm\"\n          variant=\"primary\"\n          onClick={() => disableRule()}\n          ouiaId=\"confirm\"\n        >\n          {intl.formatMessage(messages.save)}\n        </Button>,\n        <Button\n          key=\"cancel\"\n          variant=\"link\"\n          onClick={() => {\n            handleModalToggle(false);\n            setJustificaton('');\n          }}\n          ouiaId=\"cancel\"\n        >\n          {intl.formatMessage(messages.cancel)}\n        </Button>,\n      ]}\n      ouiaId=\"recommendation-disable\"\n    >\n      {intl.formatMessage(messages.disableRuleBody)}\n      <Form>\n        <FormGroup fieldId=\"blank-form\" />\n        {(host || hosts.length > 0) && (\n          <FormGroup fieldId=\"disable-rule-one-system\">\n            <Checkbox\n              isChecked={singleHost || multipleHosts}\n              onChange={() => {\n                host\n                  ? setSingleHost(!singleHost)\n                  : setMultipleHosts(!multipleHosts);\n              }}\n              label={\n                host\n                  ? intl.formatMessage(messages.disableRuleSingleCluster)\n                  : intl.formatMessage(messages.disableRuleForClusters)\n              }\n              id=\"disable-rule-one-system\"\n              name=\"disable-rule-one-system\"\n              ouiaId=\"disable-recommendation-one-cluster\"\n            />\n          </FormGroup>\n        )}\n        <FormGroup\n          label={intl.formatMessage(messages.justificationNote)}\n          fieldId=\"disable-rule-justification\"\n        >\n          <TextInput\n            type=\"text\"\n            id=\"disable-rule-justification\"\n            aria-describedby=\"disable-rule-justification\"\n            value={justification}\n            onChange={(text) => setJustificaton(text)}\n            onKeyDown={(e) =>\n              e.key === 'Enter' && (e.preventDefault(), disableRule())\n            }\n          />\n        </FormGroup>\n      </Form>\n    </Modal>\n  );\n};\n\nDisableRule.propTypes = {\n  isModalOpen: PropTypes.bool,\n  rule: PropTypes.object,\n  handleModalToggle: PropTypes.func,\n  afterFn: PropTypes.func,\n  host: PropTypes.object,\n  hosts: PropTypes.array,\n};\n\nDisableRule.defaultProps = {\n  isModalOpen: false,\n  rule: {},\n  handleModalToggle: () => undefined,\n  afterFn: () => undefined,\n  host: undefined,\n  hosts: [],\n};\n\nexport default DisableRule;\n","import './_RuleRating.scss';\n\nimport React, { useState } from 'react';\n\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport OutlinedThumbsDownIcon from '@patternfly/react-icons/dist/js/icons/outlined-thumbs-down-icon';\nimport OutlinedThumbsUpIcon from '@patternfly/react-icons/dist/js/icons/outlined-thumbs-up-icon';\nimport PropTypes from 'prop-types';\nimport ThumbsDownIcon from '@patternfly/react-icons/dist/js/icons/thumbs-down-icon';\nimport ThumbsUpIcon from '@patternfly/react-icons/dist/js/icons/thumbs-up-icon';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\n\nconst RuleRating = ({ ruleId, ruleRating, updateRatingAction }) => {\n  const intl = useIntl();\n  const [rating, setRating] = useState(ruleRating);\n  const [submitted, setSubmitted] = useState(false);\n  const [thankYou, setThankYou] = useState(\n    intl.formatMessage(messages.feedbackThankyou)\n  );\n  const updateRuleRating = async (newRating) => {\n    const calculatedRating = rating === newRating ? 0 : newRating;\n    try {\n      await updateRatingAction(ruleId, calculatedRating);\n      setRating(calculatedRating);\n      setSubmitted(true);\n      setTimeout(() => setThankYou(''), 3000);\n    } catch (error) {\n      console.error(error); // eslint-disable-line no-console\n    }\n  };\n\n  return (\n    <span className=\"ratingSpanOverride\">\n      {intl.formatMessage(messages.ruleHelpful)}\n      <Button\n        variant=\"plain\"\n        aria-label=\"thumbs-up\"\n        onClick={() => updateRuleRating(1)}\n        ouiaId=\"thumbsUp\"\n      >\n        {rating === 1 ? (\n          <ThumbsUpIcon className=\"like\" size=\"sm\" />\n        ) : (\n          <OutlinedThumbsUpIcon size=\"sm\" />\n        )}\n      </Button>\n      <Button\n        variant=\"plain\"\n        aria-label=\"thumbs-down\"\n        onClick={() => updateRuleRating(-1)}\n        ouiaId=\"thumbsDown\"\n      >\n        {rating === -1 ? (\n          <ThumbsDownIcon className=\"dislike\" size=\"sm\" />\n        ) : (\n          <OutlinedThumbsDownIcon size=\"sm\" />\n        )}\n      </Button>\n      {submitted && thankYou}\n    </span>\n  );\n};\n\nRuleRating.propTypes = {\n  ruleId: PropTypes.string.isRequired,\n  ruleRating: PropTypes.number.isRequired,\n  updateRatingAction: PropTypes.func.isRequired,\n};\n\nexport default RuleRating;\n","/* eslint-disable react/prop-types */\n/* eslint max-len: 0 */\nimport './_RuleDetails.scss';\n\nimport * as AppConstants from '../../AppConstants';\n\nimport { IntlProvider, useIntl } from 'react-intl';\nimport {\n  Split,\n  SplitItem,\n} from '@patternfly/react-core/dist/js/layouts/Split/index';\nimport {\n  Stack,\n  StackItem,\n} from '@patternfly/react-core/dist/js/layouts/Stack/index';\nimport {\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core/dist/js/components/Text/index';\n\nimport ExternalLinkAltIcon from '@patternfly/react-icons/dist/js/icons/external-link-alt-icon';\nimport { InsightsLabel } from '@redhat-cloud-services/frontend-components/InsightsLabel';\nimport { Link, Router } from 'react-router-dom';\nimport Markdown from 'react-markdown';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport RuleRating from './RuleRating';\nimport { SeverityLine } from '@redhat-cloud-services/frontend-components-charts/esm/SeverityLine';\nimport messages from '../../Messages';\nimport rehypeRaw from 'rehype-raw';\nimport rehypeSanitize from 'rehype-sanitize';\nimport { strong } from '../../Utilities/intlHelper';\n\nconst BaseRuleDetails = ({\n  children,\n  rule,\n  resolutionRisk,\n  header,\n  isDetailsPage,\n  onFeedbackChanged,\n  isOpenShift,\n  riskOfChangeDesc,\n  messageDescriptors,\n}) => {\n  const intl = useIntl();\n\n  const ruleDescription = (data, isGeneric) =>\n    typeof data === 'string' &&\n    Boolean(data) && (\n      <span className={isGeneric && 'genericOverride'}>\n        <Markdown rehypePlugins={[rehypeRaw, rehypeSanitize]}>{data}</Markdown>\n      </span>\n    );\n\n  return (\n    <Split className=\"ins-c-rule-details__split\" hasGutter>\n      <SplitItem>\n        <Stack hasGutter>\n          {header && <StackItem>{header}</StackItem>}\n          <StackItem>\n            {isOpenShift && ruleDescription(rule.generic, true)}\n            {!isOpenShift &&\n              (isDetailsPage\n                ? ruleDescription(rule.generic, true)\n                : ruleDescription(rule.summary))}\n          </StackItem>\n          {rule.node_id && (\n            <StackItem>\n              <a\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                href={`https://access.redhat.com/node/${rule.node_id}`}\n              >\n                {intl.formatMessage(messages.knowledgebaseArticle)}&nbsp;\n                <ExternalLinkAltIcon size=\"sm\" />\n              </a>\n            </StackItem>\n          )}\n          {isDetailsPage && onFeedbackChanged && (\n            <RuleRating\n              ruleId={rule.rule_id}\n              ruleRating={rule.rating}\n              updateRatingAction={onFeedbackChanged}\n            />\n          )}\n          {!isDetailsPage &&\n            rule?.[\n              isOpenShift ? 'impacted_clusters_count' : 'impacted_systems_count'\n            ] > 0 && (\n              <StackItem>\n                <Link\n                  key={`${rule.rule_id}-link`}\n                  to={`/recommendations/${rule.rule_id}`}\n                >\n                  {isOpenShift &&\n                    intl.formatMessage(\n                      messageDescriptors.viewAffectedClusters,\n                      {\n                        clusters: rule.impacted_clusters_count,\n                      }\n                    )}\n                </Link>\n              </StackItem>\n            )}\n        </Stack>\n      </SplitItem>\n      <SplitItem>\n        <Stack gutter=\"sm\">\n          {children && <StackItem>{children}</StackItem>}\n          <StackItem>\n            <Stack className=\"ins-c-rule-details__stack\">\n              <StackItem>\n                <strong>{intl.formatMessage(messages.totalRisk)}</strong>\n              </StackItem>\n              <StackItem className=\"pf-u-display-inline-flex alignCenterOverride pf-u-pb-sm pf-u-pt-sm\">\n                <span className=\"ins-c-rule-details__stackitem\">\n                  <span>\n                    <InsightsLabel\n                      value={rule.total_risk}\n                      rest={{ isCompact: true }}\n                    />\n                  </span>\n                  <Stack hasGutter className=\"description-stack-override\">\n                    <StackItem>\n                      <TextContent>\n                        <Text component={TextVariants.p}>\n                          {intl.formatMessage(\n                            messages.rulesDetailsTotalriskBody,\n                            {\n                              risk:\n                                AppConstants.TOTAL_RISK_LABEL_LOWER[\n                                  rule.total_risk\n                                ] || intl.formatMessage(messages.undefined),\n                              strong: (str) => strong(str),\n                            }\n                          )}\n                        </Text>\n                      </TextContent>\n                    </StackItem>\n                    <Stack>\n                      <StackItem>\n                        <SeverityLine\n                          className=\"severity-line\"\n                          title={intl.formatMessage(messages.likelihoodLevel, {\n                            level:\n                              AppConstants.LIKELIHOOD_LABEL[rule.likelihood],\n                          })}\n                          value={rule.likelihood}\n                          tooltipMessage={intl.formatMessage(\n                            messages.likelihoodDescription,\n                            {\n                              level:\n                                AppConstants.LIKELIHOOD_LABEL_LOWER[\n                                  rule.likelihood\n                                ],\n                            }\n                          )}\n                        />\n                      </StackItem>\n                      <StackItem>\n                        <SeverityLine\n                          className=\"severity-line\"\n                          title={intl.formatMessage(messages.impactLevel, {\n                            level:\n                              AppConstants.IMPACT_LABEL[rule.impact.impact],\n                          })}\n                          value={rule.impact.impact}\n                          tooltipMessage={intl.formatMessage(\n                            messages.impactDescription,\n                            {\n                              level:\n                                AppConstants.IMPACT_LABEL_LOWER[\n                                  rule.impact.impact\n                                ],\n                            }\n                          )}\n                        />\n                      </StackItem>\n                    </Stack>\n                  </Stack>\n                </span>\n              </StackItem>\n              {resolutionRisk && riskOfChangeDesc && (\n                <React.Fragment>\n                  <hr></hr>\n                  <StackItem>\n                    <strong>{intl.formatMessage(messages.riskofchange)}</strong>\n                  </StackItem>\n                  <StackItem\n                    className={`pf-u-display-inline-flex alignCenterOverride pf-u-pb-sm pf-u-pt-sm`}\n                  >\n                    <span className=\"ins-c-rule-details__stackitem\">\n                      <span>\n                        <InsightsLabel\n                          text={\n                            AppConstants.RISK_OF_CHANGE_LABEL[resolutionRisk]\n                          }\n                          value={resolutionRisk}\n                          hideIcon\n                        />\n                      </span>\n                      <Stack hasGutter className=\"description-stack-override\">\n                        <StackItem>\n                          <TextContent>\n                            <Text component={TextVariants.p}>\n                              {resolutionRisk\n                                ? riskOfChangeDesc\n                                : intl.formatMessage(messages.undefined)}\n                            </Text>\n                          </TextContent>\n                        </StackItem>\n                      </Stack>\n                    </span>\n                  </StackItem>\n                </React.Fragment>\n              )}\n            </Stack>\n          </StackItem>\n        </Stack>\n      </SplitItem>\n    </Split>\n  );\n};\n\nconst RuleDetails = ({ intlProps, history, ...props }) => {\n  const RouterWrapper = history ? Router : React.Fragment;\n  const IntlWrapper = intlProps ? IntlProvider : React.Fragment;\n\n  return (\n    <RouterWrapper {...(history && { history })}>\n      <IntlWrapper\n        {...(intlProps && {\n          locale: navigator.language.slice(0, 2),\n          messages,\n          onError: console.log,\n          ...intlProps,\n        })}\n      >\n        <BaseRuleDetails {...props} />\n      </IntlWrapper>\n    </RouterWrapper>\n  );\n};\n\nRuleDetails.propTypes = {\n  children: PropTypes.any.isRequired,\n  rule: PropTypes.object.isRequired,\n  header: PropTypes.any.isRequired,\n  isDetailsPage: PropTypes.bool.isRequired,\n  resolutionRisk: PropTypes.number,\n  riskOfChangeDesc: PropTypes.string,\n  /**\n   * onFeedbackChanged - a callback used to update the rating of a particular rule\n   * @param {string} ruleId - ID (usually in plugin|error_key format) of the rule that needs to be updated\n   * @param {number} newRating rating (-1, 0, 1)\n   */\n  onFeedbackChanged: PropTypes.func,\n  /**\n   * isOpenShift - true when `rule` contains an OCP rule\n   */\n  isOpenShift: PropTypes.bool.isRequired,\n  /**\n   * intlProps - if provided, it will be passed to IntlProvider custom wrapper\n   */\n  intlProps: PropTypes.object,\n  /**\n   * messageDescriptors - allows to use custom message descriptors\n   */\n  messageDescriptors: PropTypes.object,\n  /**\n   * history - if provided, it will be passed to Router custom wrapper\n   */\n  history: PropTypes.object,\n};\n\nexport default RuleDetails;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\n\n// import AsyncComponent from '@redhat-cloud-services/frontend-components/AsyncComponent';\nimport RuleDetailsLocal from '../RuleDetailsLocal';\n\nimport Loading from '../Loading/Loading';\nimport messages from '../../Messages';\nimport { translations } from '../../Utilities/intlHelper';\n\nconst RuleDetails = ({ children, ...props }) => {\n  // make sure history@4.x.x is used as a react-router-dom dependency\n  const history = useHistory();\n\n  return (\n    <div className=\"advisor\">\n      <RuleDetailsLocal\n        appName=\"advisor\"\n        module=\"./AdvisorRecommendationDetails\"\n        fallback={<Loading />}\n        isOpenShift\n        intlProps={{ messages: translations[navigator.language.slice(0, 2)] }}\n        history={history}\n        messageDescriptors={messages}\n        {...props}\n      >\n        {children}\n      </RuleDetailsLocal>\n    </div>\n  );\n};\n\nRuleDetails.propTypes = {\n  header: PropTypes.any,\n  isDetailsPage: PropTypes.bool.isRequired,\n  rule: PropTypes.object.isRequired,\n  resolutionRisk: PropTypes.number,\n  riskOfChangeDesc: PropTypes.string,\n  onFeedbackChanged: PropTypes.func,\n  children: PropTypes.node,\n};\n\nexport default RuleDetails;\n"],"names":["DisableRule","isModalOpen","handleModalToggle","rule","afterFn","host","hosts","intl","useIntl","useState","justification","setJustificaton","singleHost","setSingleHost","length","multipleHosts","setMultipleHosts","useSetAckMutation","setAck","dispatch","useDispatch","notify","data","addNotification","bulkHostActions","requests","map","h","disableRuleForCluster","uuid","id","recId","rule_id","Promise","all","variant","dismissable","timeout","title","formatMessage","messages","description","disableRule","unwrap","isOpen","onClose","actions","Button","key","onClick","ouiaId","fieldId","isChecked","onChange","label","name","type","value","text","s","onKeyDown","e","preventDefault","propTypes","PropTypes","defaultProps","undefined","RuleRating","ruleId","ruleRating","updateRatingAction","rating","setRating","submitted","setSubmitted","thankYou","setThankYou","updateRuleRating","newRating","calculatedRating","setTimeout","console","error","className","size","BaseRuleDetails","children","resolutionRisk","header","isDetailsPage","onFeedbackChanged","isOpenShift","riskOfChangeDesc","messageDescriptors","ruleDescription","isGeneric","Boolean","rehypePlugins","rehypeRaw","rehypeSanitize","Split","hasGutter","SplitItem","Stack","StackItem","generic","summary","node_id","rel","target","href","Link","to","viewAffectedClusters","clusters","impacted_clusters_count","gutter","InsightsLabel","total_risk","rest","isCompact","Text","TextContent","component","TextVariants","risk","AppConstants","strong","str","SeverityLine","level","likelihood","tooltipMessage","impact","hideIcon","RuleDetails","intlProps","history","props","RouterWrapper","Router","React","IntlWrapper","IntlProvider","locale","navigator","language","slice","onError","log","useHistory","appName","module","fallback","Loading","translations"],"sourceRoot":""}