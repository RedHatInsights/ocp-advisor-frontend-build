"use strict";(self.webpackChunkocp_advisor_frontend=self.webpackChunkocp_advisor_frontend||[]).push([[985],{73451:(e,t,a)=>{a.d(t,{Z:()=>C});var n=a(15861),s=a(29439),r=a(87757),i=a.n(r),o=a(93264),l=a.n(o),c=a(86896),u=a(45697),d=a.n(u),f=a(88931),m=a(6202),p=a(32752),b=a(4853),g=a(23811),h=a(78826),v=a(12282),k=a(71355),Z=a(30893),y=a(77647),M=function(e){var t=e.isModalOpen,a=e.handleModalToggle,r=e.rule,u=e.afterFn,d=e.host,M=e.hosts,C=(0,c.Z)(),x=(0,o.useState)(""),E=(0,s.Z)(x,2),D=E[0],I=E[1],j=(0,o.useState)(void 0!==d||M.length>0),w=(0,s.Z)(j,2),_=w[0],R=w[1],F=(0,y.om)(),S=(0,s.Z)(F,1)[0],O=(0,f.useDispatch)(),T=function(e){return O((0,k.wN)(e))},N=function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=M.map((function(e){return(0,y.Dg)({uuid:e.id,recId:r.rule_id,justification:D})})),e.next=4,Promise.all(t);case 4:T({variant:"success",dismissable:!0,timeout:!0,title:C.formatMessage(Z.Z.recSuccessfullyDisabledForCluster)}),u&&u(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),T({variant:"danger",dismissable:!0,title:C.formatMessage(Z.Z.error),description:"".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.disabled||0!==M.length){e.next=20;break}if(e.prev=1,!_){e.next=8;break}return e.next=5,(0,y.Dg)({uuid:d,recId:r.rule_id,justification:D});case 5:T({variant:"success",timeout:!0,dismissable:!0,title:C.formatMessage(Z.Z.recSuccessfullyDisabledForCluster)}),e.next=11;break;case 8:return e.next=10,S({rule_id:r.rule_id,justification:D}).unwrap();case 10:T({variant:"success",timeout:!0,dismissable:!0,title:C.formatMessage(Z.Z.recSuccessfullyDisabled)});case 11:I(""),u&&u(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),T({variant:"danger",dismissable:!0,title:C.formatMessage(Z.Z.error),description:"".concat(e.t0)});case 18:e.next=21;break;case 20:N();case 21:a(!1);case 22:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return l().createElement(h.u_,{variant:"small",title:C.formatMessage(Z.Z.disableRule),isOpen:t,onClose:function(){a(),I("")},actions:[l().createElement(m.Button,{key:"confirm",variant:"primary",onClick:function(){return P()},ouiaId:"confirm"},C.formatMessage(Z.Z.save)),l().createElement(m.Button,{key:"cancel",variant:"link",onClick:function(){a(!1),I("")},ouiaId:"cancel"},C.formatMessage(Z.Z.cancel))],ouiaId:"recommendation-disable"},C.formatMessage(Z.Z.disableRuleBody),l().createElement(b.l,null,l().createElement(g.c,{fieldId:"blank-form"}),(d||M.length>0)&&l().createElement(g.c,{fieldId:"disable-rule-one-system"},l().createElement(p.Checkbox,{isChecked:_,onChange:function(){R(!_)},label:d?C.formatMessage(Z.Z.disableRuleSingleCluster):C.formatMessage(Z.Z.disableRuleForClusters),id:"disable-rule-one-system",name:"disable-rule-one-system",ouiaId:"disable-recommendation-one-cluster"})),l().createElement(g.c,{label:C.formatMessage(Z.Z.justificationNote),fieldId:"disable-rule-justification"},l().createElement(v.TextInput,{type:"text",id:"disable-rule-justification","aria-describedby":"disable-rule-justification",value:D,onChange:function(e){return I(e)},onKeyDown:function(e){return"Enter"===e.key&&(e.preventDefault(),P())}}))))};M.propTypes={isModalOpen:d().bool,rule:d().object,handleModalToggle:d().func,afterFn:d().func,host:d().object,hosts:d().array},M.defaultProps={isModalOpen:!1,rule:{},handleModalToggle:function(){},afterFn:function(){},host:void 0,hosts:[]};const C=M},1990:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(87462),s=a(45987),r=a(93264),i=a.n(r),o=a(45697),l=a.n(o),c=a(16530),u=a(22663),d=a(52661),f=a(30893),m=a(28186),p=["children"],b=function(e){var t=e.children,a=(0,s.Z)(e,p),r=(0,c.useHistory)();return i().createElement("div",{className:"advisor"},i().createElement(u.Z,(0,n.Z)({appName:"advisor",module:"./AdvisorRecommendationDetails",fallback:i().createElement(d.Z,null),isOpenShift:!0,intlProps:{messages:m.Iz[navigator.language.slice(0,2)]},history:r,messageDescriptors:f.Z},a),t))};b.propTypes={header:l().any,isDetailsPage:l().bool.isRequired,rule:l().object.isRequired,resolutionRisk:l().number,riskOfChangeDesc:l().string,onFeedbackChanged:l().func,children:l().node};const g=b}}]);