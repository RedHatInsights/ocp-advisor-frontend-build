"use strict";(self.webpackChunkocp_advisor_frontend=self.webpackChunkocp_advisor_frontend||[]).push([[987],{87862:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var a=r(93264),n=r.n(a),l=r(16530),c=r(93433),s=r(4942),i=r(86896),o=r(45697),u=r.n(o),m=r(48716),d=r(39173),p=r(86350),f=r(62410),g=r(23218),b=r(34348),E=r(71369),v=r(84564),y=r(7193),Z=r(39545),h=r(31728),O=r(59303),P=r(30893),k=r(22663),D=r(52661),C=function(e){var t=e.rule,r=e.header,a=e.isDetailsPage,l=e.resolutionRisk,c=e.riskOfChangeDesc,s=(0,i.Z)();return n().createElement("div",{className:"advisor"},n().createElement(k.Z,{appName:"advisor",module:"./AdvisorRecommendationDetails",fallback:n().createElement(D.Z,null),rule:t,customItnl:!0,intlProps:s,isDetailsPage:a,header:r,resolutionRisk:l,riskOfChangeDesc:c}))};C.propTypes={header:u().any,isDetailsPage:u().bool.isRequired,rule:u().object.isRequired,resolutionRisk:u().number,riskOfChangeDesc:u().string};const j=C;var w=r(51957),R=r(57277),F=r(34713),T=r(35451),_=r(56161);const L=function(){var e=(0,i.Z)();return n().createElement(n().Fragment,null,n().createElement(R.Z,{filterConfig:{items:[{label:"Name"},{label:"Total Risk"}],isDisabled:!0},pagination:{itemCount:0,page:0,perPage:0}}),n().createElement(_.Card,null,n().createElement(_.CardBody,null,n().createElement(w.Z,{icon:T.ZP,iconStyle:{color:F.gP.value},title:e.formatMessage(P.Z.noClusters),text:e.formatMessage(P.Z.noClustersBody)}))))};function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=function(e){var t=e.rule,r=e.match,l=(0,i.Z)(),s=t.isError,o=t.isUninitialized,u=t.isLoading,k=t.isFetching,C=t.isSuccess,R=t.data,F=(0,a.useCallback)((function(e){var t=e.error_keys[function(e){var t;return null===(t=e.split("|"))||void 0===t?void 0:t[1]}(r.params.recommendationId)],a=N(N(N({},e),t),t.metadata);return a.impact={name:a.impact,impact:O.w7[a.impact]},delete a.metadata,delete a.error_keys,a.tags=[].concat((0,c.Z)(a.tags),["fault_tolerance","security"]),a}),[]),T=C?F(R.content):void 0;return n().createElement(n().Fragment,null,(o||u||k)&&n().createElement(p.Z,null,n().createElement(D.Z,null)),s&&n().createElement(p.Z,null,n().createElement(w.Z,{title:l.formatMessage(P.Z.unableToConnect),text:l.formatMessage(P.Z.unableToConnectDesc),icon:v.ZP,iconStyle:{color:y.Q7.value}})),C&&n().createElement(n().Fragment,null,n().createElement(m.Z,{className:"pageHeaderOverride"},n().createElement(Z.Z,{current:(null==T?void 0:T.description)||r.params.recommendationId})),n().createElement(p.Z,{className:"pf-m-light pf-u-pt-sm"},n().createElement(j,{isOpenShift:!0,isDetailsPage:!0,rule:T,header:n().createElement(n().Fragment,null,n().createElement(d.Z,{title:n().createElement(n().Fragment,null,T.description," ",n().createElement(h.Z,{rule:T}))}),n().createElement("p",null,l.formatMessage(P.Z.rulesDetailsPubishdate,{date:n().createElement(f.Z,{date:new Date(T.publish_date),type:"onlyDate"})}),n().createElement(E.LabelGroup,{className:"categoryLabels",numLabels:1},Array.isArray(T.tags)?T.tags.reduce((function(e,t){return O.kT[t]&&e.push(n().createElement(g.Label,{key:"label-".concat(t),color:"blue"},O.W2.category.values[O.kT[t]-1].label)),e}),[]):n().createElement(g.Label,null,T.tags))))})),n().createElement(p.Z,null,n().createElement(n().Fragment,null,n().createElement(n().Fragment,null,n().createElement(b.Title,{className:"titleOverride",headingLevel:"h3",size:"2xl"},l.formatMessage(P.Z.affectedClusters)),n().createElement(L,null))))))};S.propTypes={rule:u().object.isRequired,match:u().object.isRequired};var q=r(86362);const I=function(){var e=(0,q.qv)(function(e){var t;return null===(t=e.split("|"))||void 0===t?void 0:t[0]}((0,l.useParams)().recommendationId));return(0,a.useEffect)((function(){e.refetch()}),[(0,l.useParams)().recommendationId]),n().createElement(S,{rule:e,match:(0,l.useRouteMatch)()})}}}]);