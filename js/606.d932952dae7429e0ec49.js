"use strict";(self.webpackChunkocp_advisor_frontend=self.webpackChunkocp_advisor_frontend||[]).push([[606],{73451:(e,t,a)=>{a.d(t,{Z:()=>S});var n=a(15861),r=a(29439),s=a(87757),l=a.n(s),i=a(93264),c=a.n(i),o=a(86896),u=a(45697),m=a.n(u),d=a(78625),p=a(6202),f=a(32752),g=a(4853),k=a(23811),b=a(78826),h=a(12282),v=a(71355),E=a(30893),Z=a(77647),y=function(e){var t=e.isModalOpen,a=e.handleModalToggle,s=e.rule,u=e.afterFn,m=e.host,y=e.hosts,S=(0,o.Z)(),M=(0,i.useState)(""),I=(0,r.Z)(M,2),O=I[0],_=I[1],D=(0,i.useState)(void 0!==m||y.length>0),x=(0,r.Z)(D,2),C=x[0],R=x[1],j=(0,Z.om)(),P=(0,r.Z)(j,1)[0],w=(0,d.useDispatch)(),N=function(e){return w((0,v.wN)(e))},T=function(){var e=(0,n.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=y.map((function(e){return(0,Z.Dg)({uuid:e.id,recId:s.rule_id,justification:O})})),e.next=4,Promise.all(t);case 4:N({variant:"success",dismissable:!0,timeout:!0,title:S.formatMessage(E.Z.recSuccessfullyDisabledForCluster)}),u&&u(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),N({variant:"danger",dismissable:!0,title:S.formatMessage(E.Z.error),description:"".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,n.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.disabled||0!==y.length){e.next=20;break}if(e.prev=1,!C){e.next=8;break}return e.next=5,(0,Z.Dg)({uuid:m,recId:s.rule_id,justification:O});case 5:N({variant:"success",timeout:!0,dismissable:!0,title:S.formatMessage(E.Z.recSuccessfullyDisabledForCluster)}),e.next=11;break;case 8:return e.next=10,P({rule_id:s.rule_id,justification:O}).unwrap();case 10:N({variant:"success",timeout:!0,dismissable:!0,title:S.formatMessage(E.Z.recSuccessfullyDisabled)});case 11:_(""),u&&u(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),N({variant:"danger",dismissable:!0,title:S.formatMessage(E.Z.error),description:"".concat(e.t0)});case 18:e.next=21;break;case 20:T();case 21:a(!1);case 22:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return c().createElement(b.u_,{variant:"small",title:S.formatMessage(E.Z.disableRule),isOpen:t,onClose:function(){a(),_("")},actions:[c().createElement(p.Button,{key:"confirm",variant:"primary",onClick:function(){return F()},ouiaId:"confirm"},S.formatMessage(E.Z.save)),c().createElement(p.Button,{key:"cancel",variant:"link",onClick:function(){a(!1),_("")},ouiaId:"cancel"},S.formatMessage(E.Z.cancel))],ouiaId:"recommendation-disable"},S.formatMessage(E.Z.disableRuleBody),c().createElement(g.l,null,c().createElement(k.c,{fieldId:"blank-form"}),(m||y.length>0)&&c().createElement(k.c,{fieldId:"disable-rule-one-system"},c().createElement(f.Checkbox,{isChecked:C,onChange:function(){R(!C)},label:m?S.formatMessage(E.Z.disableRuleSingleCluster):S.formatMessage(E.Z.disableRuleForClusters),id:"disable-rule-one-system",name:"disable-rule-one-system",ouiaId:"disable-recommendation-one-cluster"})),c().createElement(k.c,{label:S.formatMessage(E.Z.justificationNote),fieldId:"disable-rule-justification"},c().createElement(h.TextInput,{type:"text",id:"disable-rule-justification","aria-describedby":"disable-rule-justification",value:O,onChange:function(e){return _(e)},onKeyDown:function(e){return"Enter"===e.key&&(e.preventDefault(),F())}}))))};y.propTypes={isModalOpen:m().bool,rule:m().object,handleModalToggle:m().func,afterFn:m().func,host:m().object,hosts:m().array},y.defaultProps={isModalOpen:!1,rule:{},handleModalToggle:function(){},afterFn:function(){},host:void 0,hosts:[]};const S=y},98042:(e,t,a)=>{a.d(t,{Z:()=>V});var n=a(87462),r=a(45987),s=a(93264),l=a.n(s),i=a(45697),c=a.n(i),o=a(16530),u=a(4942),m=a(59303),d=a(86896),p=a(85104),f=a(92506),g=a(88292),k=a(66197),b=a(50470),h=a(78216),v=a(71945),E=a(15861),Z=a(29439),y=a(87757),S=a.n(y),M=a(6202),I=a(49580),O=a(11239),_=a(90502),D=a(61088),x=a(30893),C=function(e){var t=e.ruleId,a=e.ruleRating,n=e.updateRatingAction,r=(0,d.Z)(),i=(0,s.useState)(a),c=(0,Z.Z)(i,2),o=c[0],u=c[1],m=(0,s.useState)(!1),p=(0,Z.Z)(m,2),f=p[0],g=p[1],k=(0,s.useState)(r.formatMessage(x.Z.feedbackThankyou)),b=(0,Z.Z)(k,2),h=b[0],v=b[1],y=function(){var e=(0,E.Z)(S().mark((function e(a){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o===a?0:a,e.prev=1,e.next=4,n(t,r);case 4:u(r),g(!0),setTimeout((function(){return v("")}),3e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return l().createElement("span",{className:"ratingSpanOverride"},r.formatMessage(x.Z.ruleHelpful),l().createElement(M.Button,{variant:"plain","aria-label":"thumbs-up",onClick:function(){return y(1)},ouiaId:"thumbsUp"},1===o?l().createElement(D.ZP,{className:"like",size:"sm"}):l().createElement(O.ZP,{size:"sm"})),l().createElement(M.Button,{variant:"plain","aria-label":"thumbs-down",onClick:function(){return y(-1)},ouiaId:"thumbsDown"},-1===o?l().createElement(_.ZP,{className:"dislike",size:"sm"}):l().createElement(I.ZP,{size:"sm"})),f&&h)};C.propTypes={ruleId:c().string.isRequired,ruleRating:c().number.isRequired,updateRatingAction:c().func.isRequired};const R=C;var j=a(24047),P=a(68770),w=a(66451),N=a(28186),T=["intlProps","history"];function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var q=function(e){var t=e.children,a=e.rule,n=e.resolutionRisk,r=e.header,s=e.isDetailsPage,i=e.onFeedbackChanged,c=e.isOpenShift,u=e.riskOfChangeDesc,p=e.messageDescriptors,E=(0,d.Z)(),Z=function(e,t){return"string"==typeof e&&Boolean(e)&&l().createElement("span",{className:t&&"genericOverride"},l().createElement(v.D,{rehypePlugins:[P.Z,w.Z]},e))};return l().createElement(f.Split,{className:"ins-c-rule-details__split",hasGutter:!0},l().createElement(f.SplitItem,null,l().createElement(g.Stack,{hasGutter:!0},r&&l().createElement(g.StackItem,null,r),l().createElement(g.StackItem,null,c&&Z(a.generic,!0),!c&&(s?Z(a.generic,!0):Z(a.summary))),a.node_id&&l().createElement(g.StackItem,null,l().createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://access.redhat.com/node/".concat(a.node_id)},E.formatMessage(x.Z.knowledgebaseArticle),"Â ",l().createElement(b.ZP,{size:"sm"}))),s&&i&&l().createElement(R,{ruleId:a.rule_id,ruleRating:a.rating,updateRatingAction:i}),!s&&(null==a?void 0:a[c?"impacted_clusters_count":"impacted_systems_count"])>0&&l().createElement(g.StackItem,null,l().createElement(o.Link,{key:"".concat(a.rule_id,"-link"),to:"/recommendations/".concat(a.rule_id)},c&&E.formatMessage(p.viewAffectedClusters,{clusters:a.impacted_clusters_count}))))),l().createElement(f.SplitItem,null,l().createElement(g.Stack,{gutter:"sm"},t&&l().createElement(g.StackItem,null,t),l().createElement(g.StackItem,null,l().createElement(g.Stack,{className:"ins-c-rule-details__stack"},l().createElement(g.StackItem,null,l().createElement("strong",null,E.formatMessage(x.Z.totalRisk))),l().createElement(g.StackItem,{className:"pf-u-display-inline-flex alignCenterOverride pf-u-pb-sm pf-u-pt-sm"},l().createElement("span",{className:"ins-c-rule-details__stackitem"},l().createElement("span",null,l().createElement(h.Z,{value:a.total_risk})),l().createElement(g.Stack,{hasGutter:!0,className:"description-stack-override"},l().createElement(g.StackItem,null,l().createElement(k.TextContent,null,l().createElement(k.Text,{component:k.TextVariants.p},E.formatMessage(x.Z.rulesDetailsTotalriskBody,{risk:m.Nq[a.total_risk]||E.formatMessage(x.Z.undefined),strong:function(e){return(0,N.fK)(e)}})))),l().createElement(g.Stack,null,l().createElement(g.StackItem,null,l().createElement(j.c,{className:"severity-line",title:E.formatMessage(x.Z.likelihoodLevel,{level:m.FV[a.likelihood]}),value:a.likelihood,tooltipMessage:E.formatMessage(x.Z.likelihoodDescription,{level:m.gm[a.likelihood]})})),l().createElement(g.StackItem,null,l().createElement(j.c,{className:"severity-line",title:E.formatMessage(x.Z.impactLevel,{level:m.dz[a.impact.impact]}),value:a.impact.impact,tooltipMessage:E.formatMessage(x.Z.impactDescription,{level:m.rs[a.impact.impact]})})))))),n&&u&&l().createElement(l().Fragment,null,l().createElement("hr",null),l().createElement(g.StackItem,null,l().createElement("strong",null,E.formatMessage(x.Z.riskofchange))),l().createElement(g.StackItem,{className:"pf-u-display-inline-flex alignCenterOverride pf-u-pb-sm pf-u-pt-sm"},l().createElement("span",{className:"ins-c-rule-details__stackitem"},l().createElement("span",null,l().createElement(h.Z,{text:m.MS[n],value:n,hideIcon:!0})),l().createElement(g.Stack,{hasGutter:!0,className:"description-stack-override"},l().createElement(g.StackItem,null,l().createElement(k.TextContent,null,l().createElement(k.Text,{component:k.TextVariants.p},n?u:E.formatMessage(x.Z.undefined)))))))))))))},z=function(e){var t=e.intlProps,a=e.history,n=(0,r.Z)(e,T),s=a?o.Router:l().Fragment,i=t?p.Z:l().Fragment;return l().createElement(s,a&&{history:a},l().createElement(i,t&&function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){(0,u.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({locale:navigator.language.slice(0,2),messages:x.Z,onError:console.log},t),l().createElement(q,n)))};z.propTypes={children:c().any.isRequired,rule:c().object.isRequired,header:c().any.isRequired,isDetailsPage:c().bool.isRequired,resolutionRisk:c().number,riskOfChangeDesc:c().string,onFeedbackChanged:c().func,isOpenShift:c().bool.isRequired,intlProps:c().object,messageDescriptors:c().object,history:c().object};const B=z;var A=a(52661),G=["children"],L=function(e){var t=e.children,a=(0,r.Z)(e,G),s=(0,o.useHistory)();return l().createElement("div",{className:"advisor"},l().createElement(B,(0,n.Z)({appName:"advisor",module:"./AdvisorRecommendationDetails",fallback:l().createElement(A.Z,null),isOpenShift:!0,intlProps:{messages:N.Iz[navigator.language.slice(0,2)]},history:s,messageDescriptors:x.Z},a),t))};L.propTypes={header:c().any,isDetailsPage:c().bool.isRequired,rule:c().object.isRequired,resolutionRisk:c().number,riskOfChangeDesc:c().string,onFeedbackChanged:c().func,children:c().node};const V=L}}]);
//# sourceMappingURL=../sourcemaps/606.ba602311fea1eab25ee31726835163de.js.map