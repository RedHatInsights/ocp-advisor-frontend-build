(self.webpackChunkocpAdvisor=self.webpackChunkocpAdvisor||[]).push([[384],{82727:(e,t,a)=>{"use strict";t.hh={name:"AutomationIcon",height:1024,width:1024,svgPath:"M768,256 L768,257.4 C765.102556,256.827424 762.153196,256.559301 759.2,256.6 C705.189545,255.686899 652.247869,271.702281 607.8,302.4 C591.952568,312.712568 582.951533,330.814358 584.293158,349.674109 C585.634783,368.53386 597.107623,385.179201 614.255294,393.144598 C631.402965,401.109995 651.522926,399.14007 666.8,388 C693.450143,369.582634 725.210685,359.998506 757.6,360.6 C761.083449,360.639748 764.563612,360.372043 768,359.8 L768,360.2 C851.8,360.2 920,428.4 920,512.1 C919.932562,571.254743 885.622089,625.020813 832,650 L832,760.2 C942.4,731.8 1024,631.6 1024,512.3 C1024,370.6 909.4,256 768,256 M746.6,452 C731.4,445.8 718.4,448.4 707.8,459.8 L635.2,531.8 L619.2,547.8 L367.6,292.9 C329,260.9 304.6,256 256,256 C114.6,256 0,371.5 0,512.8 C0,654.1 114.6,768 256,768 C304,768 344.2,750.9 380,722.9 L379.4,722.5 L384.8,718.9 C400.216562,708.213968 408.692351,690.060567 406.986867,671.380284 C405.281384,652.700001 393.658366,636.381592 376.561578,628.663984 C359.46479,620.946375 339.538112,623.023033 324.4,634.1 C301.295896,650.587389 274.106741,660.41146 245.8,662.5 C163.2,661.4 104,595.8 104,512.8 C104,430.4 165.8,363.3 247.6,360.9 L252.2,360.9 C253,361.1 253.8,360.9 254.4,361.1 L254.8,361.1 C269.4,360.9 292.6,366.3 312.6,382.3 L546.6,620.6 L458.8,708.4 C447.4,719.6 444.8,732.2 451,746.8 C457.2,761.6 468.2,768 483.8,768 L732.6,768 C742.2,768 750.6,765.4 757.6,758.4 C764.417003,751.876224 768.25027,742.835499 768.200488,733.4 L768.200488,484.8 C768.200488,469.2 761,458.2 746.6,452",yOffset:0,xOffset:0},t.ZK=a(35183).I(t.hh),t.ZP=t.ZK},70798:(e,t,a)=>{"use strict";t.nL={name:"OptimizeIcon",height:1024,width:1024,svgPath:"M1010,882 L374.9,246.9 C356.2,228.2 325.7,228.2 307,246.9 L246.9,307 C228.2,325.7 228.2,356.2 246.9,374.9 L882,1010 C891.3,1019.3 903.7,1024 916,1024 C928.3,1024 940.6,1019.3 950,1010 L1010.1,949.9 C1019.4,940.6 1024,928.6 1024,916.2 C1024,903.8 1019.4,891.4 1010,882 Z M481,545 L277,341 L341,277 L545,481 L481,545 Z M244.7,500.7 C250.9,506.9 250.9,517.1 244.7,523.3 L132.7,635.3 C129.7,638.3 125.6,640 121.4,640 L80,640 C71.2,640 64,632.8 64,624 L64,582.6 C64,578.4 65.7,574.3 68.7,571.3 L180.7,459.3 C186.9,453.1 197.1,453.1 203.3,459.3 L244.7,500.7 Z M384,592 L384,688 C384,696.8 376.8,704 368,704 L336,704 C327.2,704 320,696.8 320,688 L320,592 C320,583.2 327.2,576 336,576 L368,576 C376.8,576 384,583.2 384,592 Z M112,384 L16,384 C7.2,384 0,376.8 0,368 L0,336 C0,327.2 7.2,320 16,320 L112,320 C120.8,320 128,327.2 128,336 L128,368 C128,376.8 120.8,384 112,384 Z M459.3,203.3 C453.1,197.1 453.1,186.9 459.3,180.7 L571.3,68.7 C574.3,65.7 578.4,64 582.6,64 L624,64 C632.8,64 640,71.2 640,80 L640,121.4 C640,125.6 638.3,129.7 635.3,132.7 L523.3,244.7 C517.1,250.9 506.9,250.9 500.7,244.7 L459.3,203.3 Z M592,320 L688,320 C696.8,320 704,327.2 704,336 L704,368 C704,376.8 696.8,384 688,384 L592,384 C583.2,384 576,376.8 576,368 L576,336 C576,327.2 583.2,320 592,320 Z M320,112 L320,16 C320,7.2 327.2,0 336,0 L368,0 C376.8,0 384,7.2 384,16 L384,112 C384,120.8 376.8,128 368,128 L336,128 C327.2,128 320,120.8 320,112 Z M68.7,132.7 C65.7,129.7 64,125.6 64,121.4 L64,80 C64,71.2 71.2,64 80,64 L121.4,64 C125.6,64 129.7,65.7 132.7,68.7 L244.7,180.7 C250.9,186.9 250.9,197.1 244.7,203.3 L203.3,244.7 C197.1,250.9 186.9,250.9 180.7,244.7 L68.7,132.7 Z",yOffset:0,xOffset:0},t.$u=a(35183).I(t.nL),t.ZP=t.$u},83898:(e,t,a)=>{"use strict";t._g={name:"PortIcon",height:1024,width:960,svgPath:"M385.2,430.2 C382.8,423.7 373.8,423.2 370.6,429.3 L264.8,631.8 C262,637.1 256.6,640 250.6,640 L0,640 L0,512 L177.9,512 C180.9,512 183.6,510.6 185,508 L377.4,139.7 C381.4,132 387.7,128 395.4,128 C403.1,128 410.8,133.9 413.9,141.9 L588.1,606.7 C590.5,613 599,613.7 602.5,608 L731.7,392.5 C734.6,387.7 739.8,384 745.4,384 L960,384 L960,512 L813.4,512 C810.6,512 808,514.2 806.5,516.6 L584.2,887.2 C581,892.5 576.4,896 570.2,896 C564,896 558,891.3 555.5,884.6 L385.2,430.2 Z",yOffset:0,xOffset:0},t.OX=a(35183).I(t._g),t.ZP=t.OX},66095:(e,t,a)=>{"use strict";t.Wz={name:"SyncIcon",height:512,width:512,svgPath:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z",yOffset:0,xOffset:0},t.bn=a(35183).I(t.Wz),t.ZP=t.bn},62663:e=>{e.exports=function(e,t,a,r){var i=-1,l=null==e?0:e.length;for(r&&l&&(a=e[++i]);++i<l;)a=t(a,e[i],i,e);return a}},49029:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},15600:e=>{var t=Math.max,a=Math.min;e.exports=function(e,r,i){return e>=a(r,i)&&e<t(r,i)}},18674:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},35393:(e,t,a)=>{var r=a(62663),i=a(53816),l=a(58748),s=RegExp("['’]","g");e.exports=function(e){return function(t){return r(l(i(t).replace(s,"")),e,"")}}},69389:(e,t,a)=>{var r=a(18674)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=r},93157:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},2757:e=>{var t="\\ud800-\\udfff",a="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",l="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+l+"]",o="\\d+",n="["+a+"]",u="["+r+"]",c="[^"+t+l+o+a+r+i+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",d="["+i+"]",p="(?:"+u+"|"+c+")",g="(?:"+d+"|"+c+")",C="(?:['’](?:d|ll|m|re|s|t|ve))?",h="(?:['’](?:D|LL|M|RE|S|T|VE))?",b="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",v="[\\ufe0e\\ufe0f]?",y=v+b+"(?:\\u200d(?:"+["[^"+t+"]",m,f].join("|")+")"+v+b+")*",k="(?:"+[n,m,f].join("|")+")"+y,L=RegExp([d+"?"+u+"+"+C+"(?="+[s,d,"$"].join("|")+")",g+"+"+h+"(?="+[s,d+p,"$"].join("|")+")",d+"?"+p+"+"+C,d+"+"+h,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,k].join("|"),"g");e.exports=function(e){return e.match(L)||[]}},68929:(e,t,a)=>{var r=a(48403),i=a(35393)((function(e,t,a){return t=t.toLowerCase(),e+(a?r(t):t)}));e.exports=i},53816:(e,t,a)=>{var r=a(69389),i=a(79833),l=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(l,r).replace(s,"")}},94174:(e,t,a)=>{var r=a(15600),i=a(18601),l=a(14841);e.exports=function(e,t,a){return t=i(t),void 0===a?(a=t,t=0):a=i(a),e=l(e),r(e,t,a)}},18601:(e,t,a)=>{var r=a(14841);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},58748:(e,t,a)=>{var r=a(49029),i=a(93157),l=a(79833),s=a(2757);e.exports=function(e,t,a){return e=l(e),void 0===(t=a?void 0:t)?i(e)?s(e):r(e):e.match(t)||[]}},71070:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var r=a(76004),i=a(8780),l=a(94992),s=a(45697),o=a.n(s),n=a(28416),u=a.n(n),c=a(86896),m=a(2550);const f=({rule:e})=>{const t=(0,c.Z)();return u().createElement(u().Fragment,null,e.disabled&&u().createElement(i.Tooltip,{content:t.formatMessage(m.Z.ruleIsDisabledTooltip),position:r.TooltipPosition.right},u().createElement(l.Label,{color:"gray",isCompact:!0},t.formatMessage(m.Z.disabled))))};f.propTypes={rule:o().object};const d=f},85402:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var r=a(28416),i=a.n(r),l=a(86896),s=a(45697),o=a.n(s),n=a(86706),u=a(44442),c=a(17103),m=a(16234),f=a(29810),d=a(20065),p=a(71355),g=a(2550),C=a(9260);const h=({isModalOpen:e,handleModalToggle:t,rule:a,afterFn:s,host:o,hosts:h})=>{const b=(0,l.Z)(),[v,y]=(0,r.useState)(""),[k,L]=(0,r.useState)(!!o),[x,_]=(0,r.useState)(h.length>0),[Z]=(0,C.om)(),E=(0,n.useDispatch)(),P=e=>E((0,p.addNotification)(e)),M=async()=>{try{k?(await(0,C.Dg)({uuid:o,recId:a.rule_id,justification:v}),P({variant:"success",timeout:!0,dismissable:!0,title:b.formatMessage(g.Z.recSuccessfullyDisabledForCluster)})):x?await(async()=>{try{const e=h.map((e=>(0,C.Dg)({uuid:e.id,recId:a.rule_id,justification:v})));await Promise.all(e),P({variant:"success",dismissable:!0,timeout:!0,title:b.formatMessage(g.Z.recSuccessfullyDisabledForCluster)})}catch(e){P({variant:"danger",dismissable:!0,title:b.formatMessage(g.Z.error),description:`${e}`})}})():(await Z({rule_id:a.rule_id,justification:v}).unwrap(),P({variant:"success",timeout:!0,dismissable:!0,title:b.formatMessage(g.Z.recSuccessfullyDisabled)})),y(""),s&&s()}catch(e){P({variant:"danger",dismissable:!0,title:b.formatMessage(g.Z.error),description:`${e}`})}t(!1)};return i().createElement(f.Modal,{variant:"small",title:b.formatMessage(g.Z.disableRule),isOpen:e,onClose:()=>{t(),y("")},actions:[i().createElement(u.Button,{key:"confirm",variant:"primary",onClick:()=>M(),ouiaId:"confirm"},b.formatMessage(g.Z.save)),i().createElement(u.Button,{key:"cancel",variant:"link",onClick:()=>{t(!1),y("")},ouiaId:"cancel"},b.formatMessage(g.Z.cancel))],ouiaId:"recommendation-disable"},b.formatMessage(g.Z.disableRuleBody),i().createElement(m.Form,null,i().createElement(m.FormGroup,{fieldId:"blank-form"}),(o||h.length>0)&&i().createElement(m.FormGroup,{fieldId:"disable-rule-one-system"},i().createElement(c.Checkbox,{isChecked:k||x,onChange:()=>{o?L(!k):_(!x)},label:o?b.formatMessage(g.Z.disableRuleSingleCluster):b.formatMessage(g.Z.disableRuleForClusters),id:"disable-rule-one-system",name:"disable-rule-one-system",ouiaId:"disable-recommendation-one-cluster"})),i().createElement(m.FormGroup,{label:b.formatMessage(g.Z.justificationNote),fieldId:"disable-rule-justification"},i().createElement(d.TextInput,{type:"text",id:"disable-rule-justification","aria-describedby":"disable-rule-justification",value:v,onChange:(e,t)=>y(t),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),M())}))))};h.propTypes={isModalOpen:o().bool,rule:o().object,handleModalToggle:o().func,afterFn:o().func,host:o().object,hosts:o().array},h.defaultProps={isModalOpen:!1,rule:{},handleModalToggle:()=>{},afterFn:()=>{},host:void 0,hosts:[]};const b=h},86048:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>le});var r=a(28416),i=a.n(r),l=a(86706),s=a(86896),o=a(56800),n=a(45697),u=a.n(n),c=a(48403),m=a.n(c),f=a(48585),d=a(75863),p=a(35981),g=a(49004),C=a(58027),h=a(90766),b=a(96128),v=a(8780),y=a(8045),k=a(13877),L=a(18446),x=a.n(L),_=a(62410),Z=a(90693),E=a(90111),P=a.n(E),M=a(71355),W=a(81563),I=a(2550),A=a(72668),S=a(71070),O=a(74759),D=a(44527),T=a(91306),w=a(57642),$=a(85402),R=a(27478),j=a(11042),z=a(68929),F=a.n(z),N=a(94992),U=a(5569),V=a(83898),G=a(82727),B=a(66095),q=a(70798);const H={security:i().createElement(U.ZP,null),service_availability:i().createElement(G.ZP,null),performance:i().createElement(V.ZP,null),fault_tolerance:i().createElement(B.ZP,null),best_practice:i().createElement(q.ZP,null)},X=e=>e.filter((e=>Object.keys(W.kT).includes(e))),K=({tags:e})=>{const t=(0,s.Z)();return i().createElement(N.LabelGroup,{numLabels:1,isCompact:!0},X(e).map(((e,a)=>i().createElement(N.Label,{key:a,icon:H[e],variant:"outline",color:"blue",isCompact:!0},t.formatMessage(I.Z[F()(e)])))))};K.propTypes={tags:u().array.isRequired};const Y=K;var J=a(58490),Q=a(97626),ee=a(83920),te=a(94174),ae=a.n(te),re=a(38654);const ie=({query:e})=>{const t=(0,s.Z)(),a=(0,l.useDispatch)(),n=(0,l.useSelector)((({filters:e})=>e.recsListState)),{isError:u,isUninitialized:c,isFetching:L,isSuccess:E,data:z,refetch:F}=e,N=z?.recommendations||[],U=n.offset/n.limit+1,[V,G]=(0,r.useState)([]),[B,q]=(0,r.useState)([]),[H,K]=(0,r.useState)(!1),[te,ie]=(0,r.useState)({}),[le,se]=(0,r.useState)(!1),oe=e=>a((0,M.addNotification)(e)),{search:ne}=(0,o.useLocation)(),[ue,ce]=(0,r.useState)(!0),[me,fe]=(0,r.useState)(!1),de=e=>a((0,A.Q4)(e)),pe=n?.text||"",ge=c||L||!me,Ce=u||E&&0===N.length,he=E&&N.length>0,be=N.length>0&&0===V.length,ve=(e,t)=>(0,w.Lv)(n,de,e,t);(0,r.useEffect)((()=>{q(ke(V,n.sortIndex,n.sortDirection)),fe(!0)}),[V,n.limit,n.offset,n.sortIndex,n.sortDirection]),(0,r.useEffect)((()=>{const e=ye(N,n);e.length&&e.length<=n.offset&&de({...n,offset:0}),G(e)}),[z,n.category,n.impact,n.impacting,n.total_risk,n.rule_status,n.likelihood,n.res_risk,pe]),(0,r.useEffect)((()=>{if(ne&&ue){const e=(0,w.yG)(ne);if(e.sort){const t=(0,w.Lg)(e.sort);e.sortIndex=W.Ax.indexOf(t.name),e.sortDirection=t.direction}e.offset&&(e.offset=Number(e.offset[0])),e.limit&&(e.limit=Number(e.limit[0])),e.impacting&&!Array.isArray(e.impacting)&&(e.impacting=[`${e.impacting}`]),de({...n,...e})}ce(!1)}),[]),(0,r.useEffect)((()=>{ue||(0,w.aM)(n,W.Ax)}),[n,ue]);const ye=(e,a)=>(fe(!1),e.filter((e=>(0,w._F)(e,a))).map(((e,a)=>[{isOpen:le,rule:e,cells:[{title:i().createElement("span",{key:a},i().createElement(o.Link,{key:a,to:`${re.G}/recommendations/${e.rule_id}`}," ",e?.description||e?.rule_id," "),i().createElement(S.Z,{rule:e}))},{title:e?.publish_date?i().createElement(_.Z,{key:a,date:e.publish_date,variant:"relative"}):t.formatMessage(I.Z.nA)},{title:i().createElement(Y,{key:a,tags:e.tags})},{title:i().createElement("div",{key:a},i().createElement(v.Tooltip,{key:a,position:y.TooltipPosition.bottom,content:t.formatMessage(I.Z.rulesDetailsTotalRiskBody,{risk:W.Nq[e.total_risk]||t.formatMessage(I.Z.undefined),strong:D.f})},e?.total_risk?i().createElement(Z.Z,{value:e.total_risk,rest:{isCompact:!0}}):t.formatMessage(I.Z.nA)))},{title:ae()(e?.resolution_risk,1,5)?i().createElement(Z.Z,{value:e.resolution_risk,rest:{isCompact:!0},text:W.MS[e.resolution_risk],hideIcon:!0}):t.formatMessage(I.Z.nA)},{title:i().createElement("div",{key:a},`${void 0!==e?.impacted_clusters_count?e.impacted_clusters_count.toLocaleString():t.formatMessage(I.Z.nA)}`)}]},{fullWidth:!0,cells:[{title:i().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section pf-m-light"},i().createElement(b.Stack,{hasGutter:!0},i().createElement(J.Ii,{messages:(0,O.k5)(t,J.TO,(0,O.jL)(t,(0,Q.hw)(e))),product:J.D1.ocp,rule:(0,Q.hw)(e),isDetailsPage:!1,...e.impacted_clusters_count>0?{ViewAffectedLink:i().createElement(o.Link,{to:e.rule_id},t.formatMessage(I.Z.viewAffectedClusters,{clusters:e.impacted_clusters_count}))}:{},...ae()(e?.resolution_risk,1,5)?{resolutionRisk:e?.resolution_risk,resolutionRiskDesc:W.wY[e?.resolution_risk]}:{}})))}]}]))),ke=(e,t,a)=>[...e].sort(((e,r)=>{let i=e[0].rule,l=r[0].rule;const s=a===f.B.asc?1:-1;switch(t){case W.WC:return i=i.description,l=l.description,i.localeCompare(l)?i.localeCompare(l)*s:0;case W.sA:return i=new Date(i.publish_date||0),l=new Date(l.publish_date||0),i>l?s:l>i?-s:0;case W.UX:return s*X(i.tags)[0].localeCompare(X(l.tags)[0]);case W.MV:return i=i.total_risk,l=l.total_risk,i>l?s:l>i?-s:0;case W.jp:return i=i.resolution_risk,l=l.resolution_risk,i>l?s:l>i?-s:0;case W.kZ:return i=i.impacted_clusters_count,l=l.impacted_clusters_count,i>l?s:l>i?-s:0;default:console.error("Incorrect sorting parameters received")}})).slice(n.limit*(U-1),n.limit*(U-1)+n.limit).flatMap(((e,t)=>{const a=[...e];return e[1].parent=2*t,a})),Le=[{label:t.formatMessage(I.Z.name).toLowerCase(),type:"text",filterValues:{key:"text-filter",onChange:(e,t)=>de({...n,offset:0,text:t}),value:pe,placeholder:t.formatMessage(I.Z.filterByName)}},{label:W.W2.total_risk.title,type:W.W2.total_risk.type,id:W.W2.total_risk.urlParam,value:`checkbox-${W.W2.total_risk.urlParam}`,filterValues:{key:`${W.W2.total_risk.urlParam}-filter`,onChange:(e,t)=>ve(W.W2.total_risk.urlParam,t),value:n.total_risk,items:W.W2.total_risk.values}},{label:W.W2.impact.title,type:W.W2.impact.type,id:W.W2.impact.urlParam,value:`checkbox-${W.W2.impact.urlParam}`,filterValues:{key:`${W.W2.impact.urlParam}-filter`,onChange:(e,t)=>ve(W.W2.impact.urlParam,t),value:n.impact,items:W.W2.impact.values}},{label:W.W2.likelihood.title,type:W.W2.likelihood.type,id:W.W2.likelihood.urlParam,value:`checkbox-${W.W2.likelihood.urlParam}`,filterValues:{key:`${W.W2.likelihood.urlParam}-filter`,onChange:(e,t)=>ve(W.W2.likelihood.urlParam,t),value:n.likelihood,items:W.W2.likelihood.values}},{label:W.W2.category.title,type:W.W2.category.type,id:W.W2.category.urlParam,value:`checkbox-${W.W2.category.urlParam}`,filterValues:{key:`${W.W2.category.urlParam}-filter`,onChange:(e,t)=>ve(W.W2.category.urlParam,t),value:n.category,items:W.W2.category.values}},{label:W.W2.rule_status.title,type:W.W2.rule_status.type,id:W.W2.rule_status.urlParam,value:`radio-${W.W2.rule_status.urlParam}`,filterValues:{key:`${W.W2.rule_status.urlParam}-filter`,onChange:(e,t)=>{return a=t,de({...n,rule_status:a,offset:0});var a},value:`${n.rule_status}`,items:W.W2.rule_status.values}},{label:W.W2.impacting.title,type:W.W2.impacting.type,id:W.W2.impacting.urlParam,value:`checkbox-${W.W2.impacting.urlParam}`,filterValues:{key:`${W.W2.impacting.urlParam}-filter`,onChange:(e,t)=>ve(W.W2.impacting.urlParam,t),value:n.impacting,items:W.W2.impacting.values}},{label:W.W2.res_risk.title,type:W.W2.res_risk.type,id:W.W2.res_risk.urlParam,value:`checkbox-${W.W2.res_risk.urlParam}`,filterValues:{key:`${W.W2.res_risk.urlParam}-filter`,onChange:(e,t)=>ve(W.W2.res_risk.urlParam,t),value:n.res_risk,items:W.W2.res_risk.values}}],xe={showDeleteButton:!0,deleteTitle:t.formatMessage(I.Z.resetFilters),filters:(()=>{const e={...n};return delete e.sortIndex,delete e.sortDirection,delete e.offset,delete e.limit,((e,t)=>{const a=Object.entries(e);return a.length>0?a.reduce(((e,a)=>{if(t[a[0]]){const r=t[a[0]],i=Array.isArray(a[1])?a[1].map((e=>{const t=r.values.find((t=>t.value===String(e)));return t?{name:t.text||t.label,value:e}:{name:e,value:e}})):[{name:r.values.find((e=>e.value===String(a[1]))).label,value:a[1]}];return[...e,{category:m()(r.title),chips:i,urlParam:r.urlParam}]}return"text"===a[0]?[...e,...a[1].length>0?[{category:"Name",chips:[{name:a[1],value:a[1]}],urlParam:a[0]}]:[]]:e}),[]):[]})(e,W.W2)})(),onDelete:(e,t,a)=>{a?x()(n,A.CH)?F():(0,A.aw)(n,A.CH,de):t.map((e=>{const t={[e.urlParam]:Array.isArray(n[e.urlParam])?n[e.urlParam].filter((t=>String(t)!==String(e.chips[0].value))):""};var a;t[e.urlParam].length>0?de({...n,...t}):(a=e.urlParam,(0,w.oo)(n,de,a))}))}},_e=async e=>{const a=B[e].rule;try{if(a.disabled)try{await(0,R.HG)(`${j._n}/v2/ack/${a.rule_id}`),oe({variant:"success",timeout:!0,dismissable:!0,title:t.formatMessage(I.Z.recSuccessfullyEnabled)}),F()}catch(e){oe({variant:"danger",dismissable:!0,title:t.formatMessage(I.Z.error),description:`${e}`})}else ie(a),K(!0)}catch(e){oe({variant:"danger",dismissable:!0,title:a.disabled?t.formatMessage(I.Z.rulesTableErrorEnabled):t.formatMessage(I.Z.rulesTableErrorDisabled),description:`${e}`})}};return i().createElement("div",{id:"recs-list-table","data-ouia-safe":!ge},H&&i().createElement($.Z,{handleModalToggle:K,isModalOpen:H,rule:te,afterFn:F}),i().createElement(P(),{pagination:{itemCount:V.length,page:n.offset/n.limit+1,perPage:Number(n.limit),onSetPage(e,t){fe(!1),de({...n,offset:n.limit*(t-1)})},onPerPageSelect(e,t){fe(!1),de({...n,limit:t,offset:0})},isCompact:!0,ouiaId:"pager"},filterConfig:{items:Le,isDisabled:ge||Ce},activeFiltersConfig:Ce?void 0:xe}),i().createElement(p.i,{"aria-label":"Table of recommendations",ouiaId:"recommendations",variant:d.B.compact,cells:W.XT,rows:Ce||ge||be?[{fullWidth:!0,cells:[{props:{colSpan:W.XT.length+1},title:Ce?i().createElement(T.Te,null):ge?i().createElement(ee.Z,null):i().createElement(T.A0,null)}]}]:he?B:i().createElement(T.Te,null),onCollapse:(e,t,a)=>{void 0===t?(se(a),q(B.map((e=>({...e,isOpen:a}))))):q(B.map(((e,r)=>r===t?{...e,isOpen:a}:e)))},sortBy:{index:n.sortIndex,direction:n.sortDirection},onSort:(e,t,a)=>(fe(!1),de({...n,sortIndex:t,sortDirection:a})),actionResolver:(e,{rowIndex:a})=>{const r=B?.[a]?.rule?B[a].rule:null;return a%2==0&&r?r&&!r.disabled?[{title:t.formatMessage(I.Z.disableRule),onClick:(e,t)=>_e(t)}]:[{title:t.formatMessage(I.Z.enableRule),onClick:(e,t)=>_e(t)}]:null},isStickyHeader:!0,ouiaSafe:!ge,canCollapseAll:!0},i().createElement(g.x,null),i().createElement(C.R,null)),i().createElement(h.Pagination,{ouiaId:"pager",itemCount:V.length,page:n.offset/n.limit+1,perPage:Number(n.limit),onSetPage:(e,t)=>de({...n,offset:n.limit*(t-1)}),onPerPageSelect:(e,t)=>de({...n,limit:t,offset:0}),widgetId:"pagination-options-menu-bottom",variant:k.aM.bottom}))};ie.propTypes={query:u().shape({isError:u().bool.isRequired,isUninitialized:u().bool.isRequired,isFetching:u().bool.isRequired,isSuccess:u().bool.isRequired,data:u().object,refetch:u().func})};const le=()=>{const e=(0,j.Bs)();return i().createElement(ie,{query:e})}},36974:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{}}]);
//# sourceMappingURL=../sourcemaps/RulesTable.706c9f0ff72900285f3159dcd89b7c58.js.map