(self.webpackChunkocpAdvisor=self.webpackChunkocpAdvisor||[]).push([[8987],{56276:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var a=n(28416),r=n.n(a),l=n(45697),s=n.n(l),i=n(86896),c=n(62012),o=n(85991),u=n(49489),d=n(30893),m=function(e){var t=e.current,n=e.workloads,a=(0,i.Z)(),l=(0,c.useLocation)().pathname.split("/");return r().createElement("div",null,r().createElement(o.a,{ouiaId:"detail","data-testid":"breadcrumb-item"},r().createElement(u.g,{className:"breadcrumb-item"},r().createElement(c.Link,{to:n?"../..":"..",relative:"path"},"".concat(a.formatMessage(d.Z.insightsHeader)," ").concat(l[4]))),r().createElement(u.g,{className:"breadcrumb-item",isActive:!0},t)))};m.propTypes={current:s().string,workloads:s().boolean};const f=m},90670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(76004),r=n(23218),l=n(45697),s=n.n(l),i=n(28416),c=n.n(i),o=n(86896),u=n(30893),d=function(e){var t=e.rule,n=(0,o.Z)();return c().createElement(c().Fragment,null,t.disabled&&c().createElement(a.Tooltip,{content:n.formatMessage(u.Z.ruleIsDisabledTooltip),position:a.TooltipPosition.right},c().createElement(r.Label,{color:"gray",isCompact:!0},n.formatMessage(u.Z.disabled))))};d.propTypes={rule:s().object};const m=d},52661:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(28416),r=n.n(a),l=n(2095),s=n(85962),i=n(24561);const c=function(){return r().createElement(l.Card,{ouiaId:"loading-skeleton"},r().createElement(s.CardBody,null,r().createElement(i.aV,null)))}},73451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var a=n(15861),r=n(70885),l=n(64687),s=n.n(l),i=n(28416),c=n.n(i),o=n(86896),u=n(45697),d=n.n(u),m=n(86706),f=n(6202),p=n(32752),g=n(4853),v=n(23811),b=n(78826),h=n(12282),E=n(71355),Z=n(30893),k=n(77647),y=function(e){var t=e.isModalOpen,n=e.handleModalToggle,l=e.rule,u=e.afterFn,d=e.host,y=e.hosts,M=(0,o.Z)(),_=(0,i.useState)(""),C=(0,r.Z)(_,2),I=C[0],D=C[1],x=(0,i.useState)(!!d),S=(0,r.Z)(x,2),w=S[0],T=S[1],F=(0,i.useState)(y.length>0),O=(0,r.Z)(F,2),P=O[0],j=O[1],R=(0,k.om)(),N=(0,r.Z)(R,1)[0],L=(0,m.useDispatch)(),A=function(e){return L((0,E.addNotification)(e))},B=function(){var e=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=y.map((function(e){return(0,k.Dg)({uuid:e.id,recId:l.rule_id,justification:I})})),e.next=4,Promise.all(t);case 4:A({variant:"success",dismissable:!0,timeout:!0,title:M.formatMessage(Z.Z.recSuccessfullyDisabledForCluster)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),A({variant:"danger",dismissable:!0,title:M.formatMessage(Z.Z.error),description:"".concat(e.t0)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!w){e.next=7;break}return e.next=4,(0,k.Dg)({uuid:d,recId:l.rule_id,justification:I});case 4:A({variant:"success",timeout:!0,dismissable:!0,title:M.formatMessage(Z.Z.recSuccessfullyDisabledForCluster)}),e.next=14;break;case 7:if(!P){e.next=11;break}B(),e.next=14;break;case 11:return e.next=13,N({rule_id:l.rule_id,justification:I}).unwrap();case 13:A({variant:"success",timeout:!0,dismissable:!0,title:M.formatMessage(Z.Z.recSuccessfullyDisabled)});case 14:D(""),u&&u(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),A({variant:"danger",dismissable:!0,title:M.formatMessage(Z.Z.error),description:"".concat(e.t0)});case 21:n(!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return c().createElement(b.u_,{variant:"small",title:M.formatMessage(Z.Z.disableRule),isOpen:t,onClose:function(){n(),D("")},actions:[c().createElement(f.Button,{key:"confirm",variant:"primary",onClick:function(){return q()},ouiaId:"confirm"},M.formatMessage(Z.Z.save)),c().createElement(f.Button,{key:"cancel",variant:"link",onClick:function(){n(!1),D("")},ouiaId:"cancel"},M.formatMessage(Z.Z.cancel))],ouiaId:"recommendation-disable"},M.formatMessage(Z.Z.disableRuleBody),c().createElement(g.l,null,c().createElement(v.c,{fieldId:"blank-form"}),(d||y.length>0)&&c().createElement(v.c,{fieldId:"disable-rule-one-system"},c().createElement(p.Checkbox,{isChecked:w||P,onChange:function(){d?T(!w):j(!P)},label:d?M.formatMessage(Z.Z.disableRuleSingleCluster):M.formatMessage(Z.Z.disableRuleForClusters),id:"disable-rule-one-system",name:"disable-rule-one-system",ouiaId:"disable-recommendation-one-cluster"})),c().createElement(v.c,{label:M.formatMessage(Z.Z.justificationNote),fieldId:"disable-rule-justification"},c().createElement(h.TextInput,{type:"text",id:"disable-rule-justification","aria-describedby":"disable-rule-justification",value:I,onChange:function(e,t){return D(t)},onKeyDown:function(e){return"Enter"===e.key&&(e.preventDefault(),q())}}))))};y.propTypes={isModalOpen:d().bool,rule:d().object,handleModalToggle:d().func,afterFn:d().func,host:d().object,hosts:d().array},y.defaultProps={isModalOpen:!1,rule:{},handleModalToggle:function(){},afterFn:function(){},host:void 0,hosts:[]};const M=y},26553:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ke});var a=n(28416),r=n.n(a),l=n(62012),s=n(86896),i=n(55140),c=n(87462),o=n(15861),u=n(70885),d=n(64687),m=n.n(d),f=n(86706),p=n(45697),g=n.n(p),v=n(56161),b=n(89376),h=n(39173),E=n(62410),Z=n(23218),k=n(34348),y=n(23216),M=n(6202),_=n(36001),C=n(42057),I=n(21193),D=n(22910),x=n(97980),S=n(96823),w=n(191),T=n(84785),F=n(71355),O=n(46639),P=n(58490),j=n(56276),R=n(90670),N=n(59303),L=n(30893),A=n(52661),B=n(48622),q=n(51957),W=n(4942),z=n(81249),V=n(45578),X=n.n(V),H=n(77572),J=n(56021),U=n(76004),G=n(13877),K=n(35981),Q=n(49004),Y=n(58027),$=n(51014),ee=n(28672),te=n(73451),ne=n(76913),ae=n(60076);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(e){var t=e.query,n=e.rule,i=e.afterDisableFn,c=(0,s.Z)(),o=(0,f.useDispatch)(),d=(0,a.useState)([]),m=(0,u.Z)(d,2),p=m[0],g=m[1],v=(0,a.useState)([]),b=(0,u.Z)(v,2),h=b[0],Z=b[1],k=(0,a.useState)(!1),y=(0,u.Z)(k,2),M=y[0],_=y[1],C=(0,a.useState)([]),I=(0,u.Z)(C,2),D=I[0],x=I[1],S=(0,a.useState)(void 0),w=(0,u.Z)(S,2),T=w[0],F=w[1],O=t.isError,P=t.isUninitialized,j=t.isFetching,R=t.isSuccess,B=t.data,q=void 0===B?{disabled:[],enabled:[]}:B,V=(null==q?void 0:q.enabled)||[],re=(0,f.useSelector)((function(e){return e.filters.affectedClustersState})),se=re.limit,ie=re.offset/re.limit+1,ce=0!==p.length&&D.length===p.length,oe=(0,a.useState)(!1),ue=(0,u.Z)(oe,2),de=ue[0],me=ue[1],fe=P||j||!de,pe=O,ge=R,ve=ge&&0===V.length,be=V.length>0&&0===p.length,he=function(e){return o((0,ee.BC)(e))},Ee=function(e,t){return(0,ne.Lv)(re,he,e,t)},Ze={items:[{label:c.formatMessage(L.Z.name),placeholder:c.formatMessage(L.Z.filterByName),type:H.conditionalFilterType.text,filterValues:{id:"name-filter",key:"name-filter",onChange:function(e,t){return Ee("text",t)},value:re.text}},{label:c.formatMessage(L.Z.version),placeholder:c.formatMessage(L.Z.filterByVersion),type:H.conditionalFilterType.checkbox,filterValues:{id:"version-filter",key:"version-filter",onChange:function(e,t){return Ee("version",t)},value:re.version,items:X()(V.filter((function(e){return""!==e.meta.cluster_version})).map((function(e){return{label:e.meta.cluster_version,value:e.meta.cluster_version}})).sort((function(e,t){return(0,ne._)(e.value,t.value,1)})).reverse(),"value")}}],isDisabled:O||V&&0===V.length},ke=function(e,t){me(!1);var n=t*re.limit-re.limit;he(le(le({},re),{},{offset:n}))},ye=function(e,t){me(!1),he(le(le({},re),{},{limit:t,offset:0}))},Me=function(e){return e.slice(se*(ie-1),se*(ie-1)+se).map((function(e){return le(le({},e),{},{cells:[r().createElement("span",{key:e.id},r().createElement(l.Link,{to:"".concat(ae.G,"/clusters/").concat(e.id,"?first=").concat(n.rule_id)},e.cells[N.XS])),r().createElement("span",{key:e.id},e.cells[N.R2]||c.formatMessage(L.Z.nA)),r().createElement("span",{key:e.id},e.cells[N.NT]?r().createElement(E.Z,{extraTitle:"".concat(c.formatMessage(L.Z.lastSeen),": "),date:e.cells[N.NT],variant:"relative"}):r().createElement(U.Tooltip,{key:e.id,content:r().createElement("span",null,c.formatMessage(L.Z.lastSeen)+": ",c.formatMessage(L.Z.nA))},r().createElement("span",null,c.formatMessage(L.Z.nA)))),r().createElement("span",{key:e.id},e.cells[N.ZT]?r().createElement(E.Z,{extraTitle:"".concat(c.formatMessage(L.Z.impacted),": "),date:e.cells[N.ZT],variant:"relative"}):r().createElement(U.Tooltip,{key:e.id,content:r().createElement("span",null,c.formatMessage(L.Z.impacted)+": ",c.formatMessage(L.Z.nA))},r().createElement("span",null,c.formatMessage(L.Z.nA))))]})}))},_e=function(e,t,n){var a;a=-1===n?p.map((function(e){return le(le({},e),{},{selected:t})})):p.map((function(e,a){return le(le({},e),{},{selected:a===n?t:e.selected})})),x(a.filter((function(e){return e.selected}))),g(a),Z(Me(a))};(0,a.useEffect)((function(){g(function(e,t){return me(!1),e.map((function(e){return""===e.meta.cluster_version||(0,z.valid)(e.meta.cluster_version)||console.error("Cluster version ".concat(e.meta.cluster_version," has invalid format!")),{id:e.cluster,cells:["",e.cluster_name||e.cluster,e.meta.cluster_version,e.last_checked_at,e.impacted]}})).filter((function(e){return(null==e?void 0:e.cells[N.XS].toLowerCase().includes(t.text.toLowerCase()))&&(0===t.version.length||t.version.includes(e.cells[N.R2]))})).sort((function(e,n){var a,r,l="asc"===t.sortDirection?1:-1;switch(t.sortIndex){case N.XS:return l*(null==e?void 0:e.cells[N.XS].localeCompare(null==n?void 0:n.cells[N.XS]));case N.R2:return(0,ne._)(e.cells[N.R2]||"0.0.0",n.cells[N.R2]||"0.0.0",l);case N.NT:return(a=new Date(e.cells[N.NT]||0))>(r=new Date(n.cells[N.NT]||0))?l:r>a?-l:0;case N.ZT:return(a=new Date(e.cells[N.ZT]||0))>(r=new Date(n.cells[N.ZT]||0))?l:r>a?-l:0}}))}(V,re))}),[t,re.text,re.version,re.sortIndex,re.sortDirection]),(0,a.useEffect)((function(){Z(Me(p)),me(!0)}),[p,re.limit,re.offset]);var Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;_(e),F(t)};return r().createElement("div",{id:"affected-list-table","data-ouia-safe":!fe},M&&r().createElement(te.Z,{handleModalToggle:Ce,isModalOpen:M,rule:n,afterFn:i,hosts:void 0!==T?[]:D,host:T}),r().createElement(J.Z,{filterConfig:Ze,pagination:{itemCount:p.length,page:ie,perPage:se,onSetPage:ke,onPerPageSelect:ye,ouiaId:"pager"},activeFiltersConfig:O||V&&0===V.length?void 0:{filters:(0,ne.mt)(re,N.W2),deleteTitle:c.formatMessage(L.Z.resetFilters),onDelete:function(e,t,n){n?(0,ee.aw)(re,ee.Q3,he):t.map((function(e){var t,n=(0,W.Z)({},e.urlParam,Array.isArray(re[e.urlParam])?re[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");n[e.urlParam].length>0?he(le(le({},re),n)):(t=e.urlParam,(0,ne.oo)(re,he,t))}))}},bulkSelect:{count:D.length,items:[{title:c.formatMessage(L.Z.selectNone),onClick:function(e){return _e(0,!1,-1)}},{title:c.formatMessage(L.Z.selectAll,{items:(null==p?void 0:p.length)||0}),onClick:function(e){return _e(0,!0,-1)}}],checked:ce,onSelect:function(e){return _e(0,!ce,-1)},checkboxOuiaId:"clusters-selector"},actionsConfig:{actions:["",{label:c.formatMessage(L.Z.disableRuleForClusters),props:{isDisabled:0===D.length},onClick:function(){return Ce(!0)}}]}}),r().createElement(K.i,{"aria-label":"Table of affected clusters",ouiaId:"clusters",ouiaSafe:!fe,variant:"compact",cells:N.I9,rows:pe||fe||be||ve?[{fullWidth:!0,cells:[{props:{colSpan:N.I9.length+1},title:pe?r().createElement($.Te,null):fe?r().createElement(A.Z,null):ve?r().createElement($.mi,null):r().createElement($.VA,null)}]}]:ge?h:r().createElement($.Te,null),sortBy:{index:re.sortIndex,direction:re.sortDirection},onSort:function(e,t,n){me(!1),he(le(le({},re),{},{sortIndex:t,sortDirection:n}))},canSelectAll:!1,onSelect:(null==h?void 0:h.length)>0?_e:void 0,actions:[{title:"Disable recommendation for cluster",onClick:function(e,t){return Ce(!0,p[t].id)}}]},r().createElement(Q.x,null),r().createElement(Y.R,null)),r().createElement(G.tl,{variant:G.aM.bottom,itemCount:p.length,page:ie,perPage:se,onSetPage:ke,onPerPageSelect:ye,onPageInput:ke,ouiaId:"pager"}))};se.propTypes={query:g().shape({isError:g().bool.isRequired,isUninitialized:g().bool.isRequired,isFetching:g().bool.isRequired,isSuccess:g().bool.isRequired,data:g().shape({enabled:g().array,disabled:g().array})}),rule:g().object,afterDisableFn:g().func};var ie=n(71094),ce=n(86362),oe=n(24561),ue=n(34262),de=n(78826),me=n(6234),fe=n(77647),pe=function(e){var t=e.handleModalToggle,n=e.isModalOpen,l=e.clusters,i=e.recId,c=e.afterFn,d=(0,s.Z)(),p=(0,f.useDispatch)(),g=function(e){return p((0,F.addNotification)(e))},v=l.data,b=l.isFetching,h=l.isLoading,Z=l.refetch,k=(null==v?void 0:v.disabled)||[],y=(0,a.useState)([]),_=(0,u.Z)(y,2),C=_[0],D=_[1],x=(0,a.useState)(!1),S=(0,u.Z)(x,2),w=S[0],T=S[1],O=[{title:d.formatMessage(L.Z.clusterName),transforms:[(0,ue.cellWidth)(50)]},{title:d.formatMessage(L.Z.justificationNote),transforms:[(0,ue.cellWidth)(25)]},{title:d.formatMessage(L.Z.dateDisabled),transforms:[(0,ue.cellWidth)(15)]},""],P=function(){var e=(0,o.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,fe.o1)({uuid:n.cluster_id,recId:i});case 3:Z(),T(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t(!1),g({variant:"danger",dismissable:!0,title:d.formatMessage(L.Z.error),description:"".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var e=null==k?void 0:k.map((function(e){return{cells:[e.cluster_name||e.cluster_id,e.justification||d.formatMessage(L.Z.none),{title:r().createElement(E.Z,{date:new Date(e.disabled_at),type:"onlyDate"})},{title:r().createElement(M.Button,{key:e.cluster_id,ouiaId:"enable",isInline:!0,variant:"link",onClick:function(){return P(e)}},r().createElement(I.J,{size:"sm"},r().createElement(me.ZP,null))," ".concat(d.formatMessage(L.Z.enable)))}]}}));h||0!==k.length||(c(),t(!1)),D(e)}),[k]),r().createElement(de.u_,{width:"75%",title:d.formatMessage(L.Z.hostAckModalTitle),isOpen:n,onClose:function(){w&&c(),t(!1)},ouiaId:"hosts-disabled"},b?r().createElement(K.i,{"aria-label":"host-ack-table",rows:[{cells:[{props:{colSpan:3},title:r().createElement(oe.aV,null)}]}],cells:O},r().createElement(Q.x,null),r().createElement(Y.R,null)):r().createElement(K.i,{"aria-label":"host-ack-table",rows:C,cells:O},r().createElement(Q.x,null),r().createElement(Y.R,null)))};pe.propTypes={isModalOpen:g().bool,handleModalToggle:g().func,clusters:g().object,recId:g().string,afterFn:g().func},pe.defaultProps={isModalOpen:!1,handleModalToggle:function(){},clusters:{},recId:"",afterFn:function(){}};const ge=pe;var ve=n(73845),be=n(28186),he=n(94174),Ee=n.n(he),Ze=function(e){var t=e.rule,n=e.ack,l=e.clusters,i=e.recId,d=(0,s.Z)(),p=(0,f.useDispatch)(),g=function(e){return p((0,F.addNotification)(e))},W=(0,a.useState)(!1),z=(0,u.Z)(W,2),V=z[0],X=z[1],H=(0,a.useState)(!1),J=(0,u.Z)(H,2),U=J[0],G=J[1],K=(0,a.useState)(!1),Q=(0,u.Z)(K,2),Y=Q[0],$=Q[1],ee=t.isError,ne=t.isUninitialized,ae=t.isLoading,re=t.isFetching,le=t.isSuccess,oe=t.data,ue=t.refetch,de=n.data,me=n.isFetching,pe=n.refetch,he=new Date((null==de?void 0:de.updated_at)||(null==de?void 0:de.created_at)),Ze=l.data,ke=l.isFetching,ye=l.refetch,Me=le&&oe?(0,B.hw)(oe.content,i):void 0,_e=!ke&&Ze?Ze.disabled:void 0,Ce=function(){var e=(0,o.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue(),pe(),ye();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(e){X(e)},De=function(){var e=(0,o.Z)(m().mark((function e(t){var n,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uuids,e.prev=1,a=n.map((function(e){return(0,fe.o1)({uuid:e,recId:i})})),e.next=5,Promise.all(a);case 5:ue(),pe(),ye(),g({variant:"success",timeout:!0,dismissable:!0,title:d.formatMessage(L.Z.recSuccessfullyEnabledForCluster)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),g({variant:"danger",dismissable:!0,title:d.formatMessage(L.Z.error),description:"".concat(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=(0,o.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ie.HG)("".concat(ce._n,"/v2/ack/").concat(t.data.content.rule_id));case 3:g({variant:"success",timeout:!0,dismissable:!0,title:d.formatMessage(L.Z.recSuccessfullyEnabled)}),ue(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Ie(!1),g({variant:"danger",dismissable:!0,title:d.formatMessage(L.Z.error),description:"".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Se=(0,a.useMemo)((function(){return Me?(0,be.jL)(d,Me):{}}),[d,Me]);return r().createElement(r().Fragment,null,Y&&r().createElement(ge,{handleModalToggle:function(e){return $(e)},isModalOpen:Y,clusters:l,afterFn:function(){return ye()},recId:i}),V&&r().createElement(te.Z,{handleModalToggle:Ie,isModalOpen:V,rule:Me,afterFn:Ce}),r().createElement(b.Z,{className:"pageHeaderOverride"},r().createElement(j.Z,{current:(null==Me?void 0:Me.description)||i})),(ne||ae||re)&&r().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section pf-m-light pf-u-pt-sm"},r().createElement(A.Z,null)),ee&&r().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section pf-m-light pf-u-pt-sm"},r().createElement(O.Z,null)),!(ne||ae||re)&&le&&r().createElement(r().Fragment,null,r().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section pf-m-light pf-u-pt-sm"},r().createElement(P.Ii,(0,c.Z)({messages:(0,be.k5)(d,P.TO,Se),product:P.D1.ocp,rule:Me,isDetailsPage:!0,header:r().createElement(r().Fragment,null,r().createElement(h.Z,{title:r().createElement(r().Fragment,null,Me.description," ",r().createElement(R.Z,{rule:Me}))}),r().createElement("p",null,d.formatMessage(L.Z.rulesDetailsModifiedDate,{date:r().createElement(E.Z,{date:new Date(Me.publish_date),type:"onlyDate"})}),Me.tags&&(Array.isArray(Me.tags)?r().createElement(y.e,{className:"categoryLabels",numLabels:1,isCompact:!0},Me.tags.reduce((function(e,t){return N.kT[t]&&e.push(r().createElement(Z.Label,{key:"label-".concat(t),color:"blue",isCompact:!0},N.W2.category.values[N.kT[t]-1].label)),e}),[])):r().createElement(Z.Label,{isCompact:!0},Me.tags)))),onVoteClick:function(){var e=(0,o.Z)(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ie.SO)("".concat(ce._n,"/v2/rating"),{},{rule:t,rating:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ee()(null==Me?void 0:Me.resolution_risk,1,5)?{resolutionRisk:null==Me?void 0:Me.resolution_risk,resolutionRiskDesc:N.wY[null==Me?void 0:Me.resolution_risk]}:{}),r().createElement(_.k,null,r().createElement(C.B,{align:{default:"alignRight"}},r().createElement(D.L,{className:"ins-c-rec-details__actions_dropdown",onOpenChange:function(e){return G(e)},popperProps:{position:"right"},ouiaId:"actions",toggle:function(e){return r().createElement(x.MenuToggle,{"data-ouia-component-id":"actions-toggle",ref:e,onClick:function(){return G(!U)}},d.formatMessage(L.Z.actions))},isOpen:U},r().createElement(w.s,null,null!=Me&&Me.disabled?r().createElement(S.h,{key:"link",ouiaId:"enable",onClick:function(){xe(t)}},d.formatMessage(L.Z.enableRule)):r().createElement(S.h,{key:"link",ouiaId:"disable",onClick:function(){Ie(!0)}},d.formatMessage(L.Z.disableRule)))))))),r().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section"},r().createElement(r().Fragment,null,((null==Me?void 0:Me.hosts_acked_count)||(null==_e?void 0:_e.length)>0||(null==Me?void 0:Me.disabled))&&r().createElement(v.Card,{className:"cardOverride",ouiaId:"hosts-acked"},r().createElement(v.CardHeader,null,r().createElement(k.Dx,{headingLevel:"h4",size:"xl"},r().createElement(I.J,{size:"md"},r().createElement(T.ZP,null))," ",d.formatMessage(!(null!=Me&&Me.hosts_acked_count||(null==_e?void 0:_e.length)>0)||null!=Me&&Me.disabled?L.Z.ruleIsDisabled:L.Z.ruleIsDisabledForClusters))),r().createElement(v.CardBody,null,!(null!=Me&&Me.hosts_acked_count||(null==_e?void 0:_e.length)>0)||null!=Me&&Me.disabled?!me&&de&&r().createElement(r().Fragment,null,null!=de&&de.justification?d.formatMessage(L.Z.ruleIsDisabledWithJustificaiton,{date:r().createElement("span",null,r().createElement(E.Z,{date:he,type:"onlyDate"})),reason:de.justification}):d.formatMessage(L.Z.ruleIsDisabledWithoutJustificaiton,{date:r().createElement("span",null,r().createElement(E.Z,{date:he,type:"onlyDate"}))})):r().createElement(r().Fragment,null,d.formatMessage(L.Z.ruleIsDisabledForClustersBody,{clusters:null==_e?void 0:_e.length}),!ke&&(null==_e?void 0:_e.length)>0?r().createElement(r().Fragment,null," ",r().createElement(M.Button,{isInline:!0,variant:"link",onClick:function(){return $(!0)},ouiaId:"view-clusters"},d.formatMessage(L.Z.viewClusters))):r().createElement(ve.F,null))),r().createElement(v.CardFooter,null,!(null!=Me&&Me.hosts_acked_count||(null==_e?void 0:_e.length)>0)||null!=Me&&Me.disabled?r().createElement(M.Button,{isInline:!0,variant:"link",onClick:function(){return xe(t)},ouiaId:"enable"},d.formatMessage(L.Z.enableRule)):!ke&&_e?r().createElement(M.Button,{isInline:!0,variant:"link",onClick:function(){return De({uuids:_e.map((function(e){return e.cluster_id}))})},ouiaId:"enable"},d.formatMessage(L.Z.enableRuleForClusters)):r().createElement(ve.F,null))),!(null!=Me&&Me.disabled)&&r().createElement(r().Fragment,null,r().createElement(k.Dx,{className:"titleOverride",headingLevel:"h3",size:"2xl"},d.formatMessage(L.Z.affectedClusters)),r().createElement(se,{query:l,rule:Me,afterDisableFn:Ce})),(null==Me?void 0:Me.disabled)&&r().createElement(q.Z,{icon:T.ZP,title:d.formatMessage(L.Z.ruleIsDisabled),text:d.formatMessage(L.Z.ruleIsDisabledBody)})))))};Ze.propTypes={rule:g().object.isRequired,ack:g().object.isRequired,clusters:g().object.isRequired,recId:g().string.isRequired};const ke=function(){var e,t=(0,s.Z)(),n=(0,l.useParams)().recommendationId,c=(0,ce.qv)(n),o=(0,fe.yr)({ruleId:n}),u=(0,i.Z)();if(c.isSuccess&&null!==(e=c.data)&&void 0!==e&&null!==(e=e.content)&&void 0!==e&&e.description){var d="".concat(c.data.content.description," - Recommendations");u.updateDocumentTitle(t.formatMessage(L.Z.documentTitle,{subnav:d}))}var m=(0,ce.tf)(n);return(0,a.useEffect)((function(){c.refetch()}),[n]),r().createElement(Ze,{rule:c,ack:o,clusters:m,recId:n})}},73845:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var a=n(28416),r=n.n(a),l=n(24561),s=function(){return r().createElement(l.ZP,{height:20},r().createElement("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"300",height:"20"}))}},70347:()=>{},78752:()=>{},24620:()=>{},82014:()=>{},25238:()=>{},53336:()=>{},314:()=>{},38299:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Recommendation.f19043b65012b803ead56ade973c5f72.js.map