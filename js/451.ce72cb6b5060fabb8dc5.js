"use strict";(self.webpackChunkocp_advisor_frontend=self.webpackChunkocp_advisor_frontend||[]).push([[451],{73451:(n,e,l)=>{l.d(e,{Z:()=>x});var t=l(15861),o=l(70885),i=l(87757),c=l.n(i),a=l(93264),s=l.n(a),u=l(86896),r=l(45697),m=l.n(r),d=l(82084),f=l(6202),b=l(32752),p=l(4853),y=l(23811),v=l(78826),h=l(12282),g=l(71355),_=l(30893),M=l(77647);function k(){var n="/home/travis/build/RedHatInsights/ocp-advisor-frontend/src/Components/Modals/DisableRule.js",e=new Function("return this")(),l="__coverage__",t=e[l]||(e[l]={});t[n]&&"d94da6ceb64cb5e0e71e5279ac8ee32f09601a89"===t[n].hash||(t[n]={path:"/home/travis/build/RedHatInsights/ocp-advisor-frontend/src/Components/Modals/DisableRule.js",statementMap:{0:{start:{line:17,column:20},end:{line:178,column:1}},1:{start:{line:25,column:15},end:{line:25,column:24}},2:{start:{line:26,column:43},end:{line:26,column:55}},3:{start:{line:27,column:38},end:{line:27,column:54}},4:{start:{line:28,column:44},end:{line:28,column:70}},5:{start:{line:29,column:19},end:{line:29,column:38}},6:{start:{line:30,column:19},end:{line:30,column:32}},7:{start:{line:31,column:17},end:{line:31,column:58}},8:{start:{line:31,column:27},end:{line:31,column:58}},9:{start:{line:33,column:26},end:{line:59,column:3}},10:{start:{line:35,column:4},end:{line:58,column:5}},11:{start:{line:36,column:23},end:{line:42,column:7}},12:{start:{line:37,column:8},end:{line:41,column:10}},13:{start:{line:43,column:6},end:{line:43,column:34}},14:{start:{line:44,column:6},end:{line:49,column:9}},15:{start:{line:50,column:6},end:{line:50,column:27}},16:{start:{line:52,column:6},end:{line:57,column:9}},17:{start:{line:61,column:22},end:{line:103,column:3}},18:{start:{line:62,column:4},end:{line:100,column:5}},19:{start:{line:63,column:6},end:{line:90,column:7}},20:{start:{line:65,column:8},end:{line:69,column:11}},21:{start:{line:70,column:8},end:{line:75,column:11}},22:{start:{line:76,column:13},end:{line:90,column:7}},23:{start:{line:77,column:8},end:{line:77,column:26}},24:{start:{line:80,column:8},end:{line:83,column:20}},25:{start:{line:84,column:8},end:{line:89,column:11}},26:{start:{line:91,column:6},end:{line:91,column:26}},27:{start:{line:92,column:6},end:{line:92,column:27}},28:{start:{line:94,column:6},end:{line:99,column:9}},29:{start:{line:102,column:4},end:{line:102,column:29}},30:{start:{line:105,column:2},end:{line:177,column:4}},31:{start:{line:111,column:8},end:{line:111,column:28}},32:{start:{line:112,column:8},end:{line:112,column:28}},33:{start:{line:118,column:25},end:{line:118,column:38}},34:{start:{line:127,column:12},end:{line:127,column:37}},35:{start:{line:128,column:12},end:{line:128,column:32}},36:{start:{line:145,column:16},end:{line:147,column:53}},37:{start:{line:169,column:32},end:{line:169,column:53}},38:{start:{line:171,column:14},end:{line:171,column:70}},39:{start:{line:180,column:0},end:{line:187,column:2}},40:{start:{line:189,column:0},end:{line:196,column:2}},41:{start:{line:192,column:27},end:{line:192,column:36}},42:{start:{line:193,column:17},end:{line:193,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:20},end:{line:17,column:21}},loc:{start:{line:24,column:6},end:{line:178,column:1}},line:24},1:{name:"(anonymous_1)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:27},end:{line:31,column:58}},line:31},2:{name:"(anonymous_2)",decl:{start:{line:33,column:26},end:{line:33,column:27}},loc:{start:{line:33,column:38},end:{line:59,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:36,column:33},end:{line:36,column:34}},loc:{start:{line:37,column:8},end:{line:41,column:10}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:61,column:22},end:{line:61,column:23}},loc:{start:{line:61,column:34},end:{line:103,column:3}},line:61},5:{name:"(anonymous_5)",decl:{start:{line:110,column:15},end:{line:110,column:16}},loc:{start:{line:110,column:21},end:{line:113,column:7}},line:110},6:{name:"(anonymous_6)",decl:{start:{line:118,column:19},end:{line:118,column:20}},loc:{start:{line:118,column:25},end:{line:118,column:38}},line:118},7:{name:"(anonymous_7)",decl:{start:{line:126,column:19},end:{line:126,column:20}},loc:{start:{line:126,column:25},end:{line:129,column:11}},line:126},8:{name:"(anonymous_8)",decl:{start:{line:144,column:24},end:{line:144,column:25}},loc:{start:{line:144,column:30},end:{line:148,column:15}},line:144},9:{name:"(anonymous_9)",decl:{start:{line:169,column:22},end:{line:169,column:23}},loc:{start:{line:169,column:32},end:{line:169,column:53}},line:169},10:{name:"(anonymous_10)",decl:{start:{line:170,column:23},end:{line:170,column:24}},loc:{start:{line:171,column:14},end:{line:171,column:70}},line:171},11:{name:"(anonymous_11)",decl:{start:{line:192,column:21},end:{line:192,column:22}},loc:{start:{line:192,column:27},end:{line:192,column:36}},line:192},12:{name:"(anonymous_12)",decl:{start:{line:193,column:11},end:{line:193,column:12}},loc:{start:{line:193,column:17},end:{line:193,column:26}},line:193}},branchMap:{0:{loc:{start:{line:50,column:6},end:{line:50,column:26}},type:"binary-expr",locations:[{start:{line:50,column:6},end:{line:50,column:13}},{start:{line:50,column:17},end:{line:50,column:26}}],line:50},1:{loc:{start:{line:63,column:6},end:{line:90,column:7}},type:"if",locations:[{start:{line:63,column:6},end:{line:90,column:7}},{start:{line:76,column:13},end:{line:90,column:7}}],line:63},2:{loc:{start:{line:76,column:13},end:{line:90,column:7}},type:"if",locations:[{start:{line:76,column:13},end:{line:90,column:7}},{start:{line:78,column:13},end:{line:90,column:7}}],line:76},3:{loc:{start:{line:92,column:6},end:{line:92,column:26}},type:"binary-expr",locations:[{start:{line:92,column:6},end:{line:92,column:13}},{start:{line:92,column:17},end:{line:92,column:26}}],line:92},4:{loc:{start:{line:140,column:9},end:{line:159,column:9}},type:"binary-expr",locations:[{start:{line:140,column:10},end:{line:140,column:14}},{start:{line:140,column:18},end:{line:140,column:34}},{start:{line:141,column:10},end:{line:158,column:22}}],line:140},5:{loc:{start:{line:143,column:25},end:{line:143,column:52}},type:"binary-expr",locations:[{start:{line:143,column:25},end:{line:143,column:35}},{start:{line:143,column:39},end:{line:143,column:52}}],line:143},6:{loc:{start:{line:145,column:16},end:{line:147,column:52}},type:"cond-expr",locations:[{start:{line:146,column:20},end:{line:146,column:46}},{start:{line:147,column:20},end:{line:147,column:52}}],line:145},7:{loc:{start:{line:150,column:16},end:{line:152,column:71}},type:"cond-expr",locations:[{start:{line:151,column:20},end:{line:151,column:73}},{start:{line:152,column:20},end:{line:152,column:71}}],line:150},8:{loc:{start:{line:171,column:14},end:{line:171,column:70}},type:"binary-expr",locations:[{start:{line:171,column:14},end:{line:171,column:31}},{start:{line:171,column:36},end:{line:171,column:69}}],line:171}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d94da6ceb64cb5e0e71e5279ac8ee32f09601a89"});var o=t[n];return k=function(){return o},o}k(),k().s[0]++;var Z=function(n){var e=n.isModalOpen,l=n.handleModalToggle,i=n.rule,r=n.afterFn,m=n.host,Z=n.hosts;k().f[0]++;var x=(k().s[1]++,(0,u.Z)()),C=(k().s[2]++,(0,a.useState)("")),j=(0,o.Z)(C,2),I=j[0],w=j[1],D=(k().s[3]++,(0,a.useState)(!!m)),E=(0,o.Z)(D,2),R=E[0],S=E[1],F=(k().s[4]++,(0,a.useState)(Z.length>0)),O=(0,o.Z)(F,2),T=O[0],B=O[1],H=(k().s[5]++,(0,M.om)()),N=(0,o.Z)(H,1)[0],P=(k().s[6]++,(0,d.useDispatch)());k().s[7]++;var K=function(n){return k().f[1]++,k().s[8]++,P((0,g.wN)(n))};k().s[9]++;var X=function(){var n=(0,t.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k().f[2]++,k().s[10]++,n.prev=2,k().s[11]++,e=Z.map((function(n){return k().f[3]++,k().s[12]++,(0,M.Dg)({uuid:n.id,recId:i.rule_id,justification:I})})),k().s[13]++,n.next=7,Promise.all(e);case 7:k().s[14]++,K({variant:"success",dismissable:!0,timeout:!0,title:x.formatMessage(_.Z.recSuccessfullyDisabledForCluster)}),k().s[15]++,k().b[0][0]++,r&&(k().b[0][1]++,r()),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(2),k().s[16]++,K({variant:"danger",dismissable:!0,title:x.formatMessage(_.Z.error),description:"".concat(n.t0)});case 17:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(){return n.apply(this,arguments)}}();k().s[17]++;var q=function(){var n=(0,t.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(k().f[4]++,k().s[18]++,n.prev=2,k().s[19]++,!R){n.next=13;break}return k().b[1][0]++,k().s[20]++,n.next=9,(0,M.Dg)({uuid:m,recId:i.rule_id,justification:I});case 9:k().s[21]++,K({variant:"success",timeout:!0,dismissable:!0,title:x.formatMessage(_.Z.recSuccessfullyDisabledForCluster)}),n.next=27;break;case 13:if(k().b[1][1]++,k().s[22]++,!T){n.next=21;break}k().b[2][0]++,k().s[23]++,X(),n.next=27;break;case 21:return k().b[2][1]++,k().s[24]++,n.next=25,N({rule_id:i.rule_id,justification:I}).unwrap();case 25:k().s[25]++,K({variant:"success",timeout:!0,dismissable:!0,title:x.formatMessage(_.Z.recSuccessfullyDisabled)});case 27:k().s[26]++,w(""),k().s[27]++,k().b[3][0]++,r&&(k().b[3][1]++,r()),n.next=37;break;case 33:n.prev=33,n.t0=n.catch(2),k().s[28]++,K({variant:"danger",dismissable:!0,title:x.formatMessage(_.Z.error),description:"".concat(n.t0)});case 37:k().s[29]++,l(!1);case 39:case"end":return n.stop()}}),n,null,[[2,33]])})));return function(){return n.apply(this,arguments)}}();return k().s[30]++,s().createElement(v.u_,{variant:"small",title:x.formatMessage(_.Z.disableRule),isOpen:e,onClose:function(){k().f[5]++,k().s[31]++,l(),k().s[32]++,w("")},actions:[s().createElement(f.Button,{key:"confirm",variant:"primary",onClick:function(){return k().f[6]++,k().s[33]++,q()},ouiaId:"confirm"},x.formatMessage(_.Z.save)),s().createElement(f.Button,{key:"cancel",variant:"link",onClick:function(){k().f[7]++,k().s[34]++,l(!1),k().s[35]++,w("")},ouiaId:"cancel"},x.formatMessage(_.Z.cancel))],ouiaId:"recommendation-disable"},x.formatMessage(_.Z.disableRuleBody),s().createElement(p.l,null,s().createElement(y.c,{fieldId:"blank-form"}),(k().b[4][0]++,(m||(k().b[4][1]++,Z.length>0))&&(k().b[4][2]++,s().createElement(y.c,{fieldId:"disable-rule-one-system"},s().createElement(b.X,{isChecked:(k().b[5][0]++,R||(k().b[5][1]++,T)),onChange:function(){k().f[8]++,k().s[36]++,m?(k().b[6][0]++,S(!R)):(k().b[6][1]++,B(!T))},label:m?(k().b[7][0]++,x.formatMessage(_.Z.disableRuleSingleCluster)):(k().b[7][1]++,x.formatMessage(_.Z.disableRuleForClusters)),id:"disable-rule-one-system",name:"disable-rule-one-system",ouiaId:"disable-recommendation-one-cluster"})))),s().createElement(y.c,{label:x.formatMessage(_.Z.justificationNote),fieldId:"disable-rule-justification"},s().createElement(h.oi,{type:"text",id:"disable-rule-justification","aria-describedby":"disable-rule-justification",value:I,onChange:function(n){return k().f[9]++,k().s[37]++,w(n)},onKeyDown:function(n){return k().f[10]++,k().s[38]++,k().b[8][0]++,"Enter"===n.key&&(k().b[8][1]++,n.preventDefault(),q())}}))))};k().s[39]++,Z.propTypes={isModalOpen:m().bool,rule:m().object,handleModalToggle:m().func,afterFn:m().func,host:m().object,hosts:m().array},k().s[40]++,Z.defaultProps={isModalOpen:!1,rule:{},handleModalToggle:function(){k().f[11]++,k().s[41]++},afterFn:function(){k().f[12]++,k().s[42]++},host:void 0,hosts:[]};const x=Z}}]);
//# sourceMappingURL=../sourcemaps/451.3d8b1de90a53195face748e6dbf3bcf9.js.map