(self.webpackChunkocp_advisor_frontend=self.webpackChunkocp_advisor_frontend||[]).push([[198],{67805:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>F});var a=n(96156),r=n(93264),s=n.n(r),c=n(86896),i=n(45697),o=n.n(i),l=n(88931),u=n(34699),d=n(85991),m=n(49489),p=n(16530),f=n(74806);const g=(0,n(50049).vU)({documentTitle:{id:"documentTitle",description:"The title of the page as it appears in the browser tab",defaultMessage:"{subnav} - OCP Advisor | Red Hat Insights"},clusters:{id:"clusters",description:"Clusters title used in recommendation table column and clusters tab header",defaultMessage:"Clusters"},added:{id:"added",description:"Recommendation table column title",defaultMessage:"Added"},loading:{id:"loading",description:"Loading text",defaultMessage:"Loading..."},lastSeen:{id:"lastSeen",description:"Used in the cluster table title column, the last time a cluster has checked in",defaultMessage:"Last seen"},actions:{id:"actions",description:"actions",defaultMessage:"Actions"},name:{id:"name",description:"Used in the cluster table title column, identifying display name of a cluster",defaultMessage:"Name"},filterBy:{id:"filterBy",description:"Filter by name",defaultMessage:"Filter by name"},totalRisk:{id:"totalRisk",description:"Recommendation table column title, recommendationdetails label",defaultMessage:"Total risk"},recommendation:{id:"recommendation",description:"Recommendation",defaultMessage:"Recommendation"},recommendations:{id:"recommendations",description:"Used as a title",defaultMessage:"Recommendations"},insightsHeader:{id:"insightsHeader",description:"Header for the application title",defaultMessage:"Advisor"}});var h=n(36873),b=function(e){var t=e.current,n=e.match,a=e.intl,c=(0,r.useState)([]),i=(0,u.Z)(c,2),o=i[0],l=i[1],f=(0,r.useCallback)((function(){var e=[],t=n.url.split("/");e.push({title:"".concat(a.formatMessage(g.insightsHeader)," ").concat(t[1]),navigate:"/".concat(t[1])}),l(e)}),[a,n.params.clusterId,n.url]);return(0,r.useEffect)((function(){f()}),[f,n.params.clusterId,n.url]),s().createElement(s().Fragment,null,o.length>0&&s().createElement(d.a,{ouiaId:"detail"},o.map((function(e,t){return s().createElement(m.g,{key:t},s().createElement(p.Link,{to:e.navigate},e.title))})),s().createElement(m.g,{isActive:!0},t)))};b.propTypes={current:o().string,match:o().object,intl:o().any};const v=(0,f.ZP)((0,h.Z)(b));var y=n(83913),O=n(92137),k=n(87757),M=n.n(k),j=function(e){return"".concat("/api/insights-results-aggregator/v1","/clusters/").concat(e,"/report")},E=n(80129),w=n.n(E),P=n(2027),S=n.n(P);const I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return S().get(e,{headers:t,params:n,paramsSerializer:function(e){return w().stringify(e,{arrayFormat:"repeat"})}})};var R=function(){var e=(0,O.Z)(M().mark((function e(t,n,a,r){var s;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:if(!r){e.next=8;break}return e.next=5,I("".concat(t,"?").concat(r),n,a);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,I("".concat(t),n,a);case 10:e.t0=e.sent;case 11:return s=e.t0,e.abrupt("return",s.data);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var C=function(e){var t=e.cluster,n=e.match,a=(0,c.Z)(),i=(0,l.useDispatch)();return(0,r.useEffect)((function(){if(n.params.clusterId){var e="".concat(n.params.clusterId," - ").concat(g.clusters.defaultMessage);document.title=a.formatMessage(g.documentTitle,{subnav:e})}var t;i((t=n.params.clusterId,{type:"CLUSTER_FETCH",payload:R(j(t))}))}),[n.params.clusterId]),s().createElement(y.Z,{className:"pf-m-light ins-inventory-detail"},t&&s().createElement(v,{current:n.params.clusterId,match:n}))};C.propTypes={history:o().object,cluster:o().object,clusterFetchStatus:o().string,match:o().any};const F=(0,h.Z)((0,l.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({cluster:e.cluster,clusterFetchStatus:e.clusterFetchStatus},e.props)}),null)(C))},24654:()=>{}}]);
//# sourceMappingURL=../sourcemaps/InventoryDetails.ef1396c6c9ea8e58daa1.js.map